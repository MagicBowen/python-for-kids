# ç¬¬15ç«  æŠ¥è¡¨ç¨‹åº - è®©æ•°æ®è¯´è¯

## å¼•è¨€:ä»æ•°å­—åˆ°å›¾è¡¨

æƒ³è±¡ä¸€ä¸‹,å¦‚æœä½ æ˜¯ä¸€åè€å¸ˆ,æ‰‹é‡Œæœ‰ä¸€ä»½å­¦ç”Ÿçš„è€ƒè¯•æˆç»©å•,ä¸Šé¢åªæœ‰å¯†å¯†éº»éº»çš„æ•°å­—:

```
å°æ˜: è¯­æ–‡85 æ•°å­¦92 è‹±è¯­78
å°çº¢: è¯­æ–‡90 æ•°å­¦88 è‹±è¯­95
å°åˆš: è¯­æ–‡78 æ•°å­¦85 è‹±è¯­82
...
```

ä½ èƒ½å¿«é€Ÿçœ‹å‡º:
- å“ªä¸ªç§‘ç›®æœ€éš¾?
- æ¯ä¸ªå­¦ç”Ÿçš„å¼ºé¡¹æ˜¯ä»€ä¹ˆ?
- å…¨ç­çš„å¹³å‡æˆç»©å¦‚ä½•?

å¦‚æœæŠŠè¿™äº›æ•°å­—ç”»æˆå›¾è¡¨,æ¯”å¦‚æŸ±çŠ¶å›¾æˆ–æŠ˜çº¿å›¾,ç­”æ¡ˆå°±ä¼šä¸€ç›®äº†ç„¶!è¿™å°±æ˜¯**æ•°æ®å¯è§†åŒ–**çš„ä½œç”¨â€”â€”æŠŠæ¯ç‡¥çš„æ•°å­—å˜æˆç›´è§‚çš„å›¾å½¢,è®©æ•°æ®"è¯´è¯"ã€‚

### ä»€ä¹ˆæ˜¯æŠ¥è¡¨ç¨‹åº?

**æŠ¥è¡¨ç¨‹åº**å°±æ˜¯ç”¨æ¥æ”¶é›†ã€å¤„ç†å’Œå±•ç¤ºæ•°æ®çš„ç¨‹åºã€‚åœ¨æˆ‘ä»¬çš„æ—¥å¸¸ç”Ÿæ´»ä¸­:

- **å¤©æ°”é¢„æŠ¥**:ç”¨æŠ˜çº¿å›¾æ˜¾ç¤ºæœªæ¥ä¸€å‘¨çš„æ°”æ¸©å˜åŒ–
- **è‚¡ç¥¨è½¯ä»¶**:ç”¨Kçº¿å›¾æ˜¾ç¤ºè‚¡ç¥¨ä»·æ ¼æ³¢åŠ¨
- **è¿åŠ¨APP**:ç”¨é¥¼å›¾æ˜¾ç¤ºä½ ä»Šå¤©çš„è¿åŠ¨æ—¶é—´åˆ†é…
- **æ¸¸æˆæ’è¡Œæ¦œ**:ç”¨æŸ±çŠ¶å›¾æ˜¾ç¤ºç©å®¶ç§¯åˆ†æ’å

è¿™äº›ç¨‹åºéƒ½æœ‰ä¸€ä¸ªå…±åŒç‚¹:æŠŠæ•°æ®å˜æˆå›¾è¡¨,è®©äººæ›´å®¹æ˜“ç†è§£æ•°æ®èƒŒåçš„ä¿¡æ¯ã€‚

### ä¸ºä»€ä¹ˆå­¦ä¹ æŠ¥è¡¨ç¨‹åº?

å­¦ä¹ åˆ¶ä½œæŠ¥è¡¨ç¨‹åº,ä½ å°†æŒæ¡:
1. **æ•°æ®å¤„ç†èƒ½åŠ›**:å­¦ä¼šæ•´ç†å’Œåˆ†ææ•°æ®
2. **å¯è§†åŒ–æ€ç»´**:å­¦ä¼šç”¨å›¾å½¢è¡¨è¾¾ä¿¡æ¯
3. **å®ç”¨å·¥å…·**:èƒ½åˆ¶ä½œå‡ºçœŸæ­£æœ‰ç”¨çš„ç¨‹åº

æ¯”å¦‚,ä½ å¯ä»¥:
- åˆ¶ä½œç­çº§æˆç»©åˆ†ææŠ¥å‘Š
- è®°å½•è‡ªå·±çš„é›¶èŠ±é’±ä½¿ç”¨æƒ…å†µ
- ç»Ÿè®¡å®¶é‡Œçš„ç”µè´¹æ°´è´¹å˜åŒ–
- åˆ†æè‡ªå·±å–œæ¬¢çš„æ¸¸æˆæ•°æ®

### æœ¬ç« å­¦ä¹ è·¯çº¿

æœ¬ç« å°†æ•™ä½ å¦‚ä½•ä½¿ç”¨**pyecharts**åº“åˆ¶ä½œå„ç§å›¾è¡¨,åŒæ—¶èå…¥**æ•°å­¦ç»Ÿè®¡çŸ¥è¯†**:

```
ç¬¬1æ­¥: å®‰è£…å’Œé…ç½®pyechartsåº“
   â†“
ç¬¬2æ­¥: å¤ä¹ æ•°å­¦ç»Ÿè®¡çŸ¥è¯†(å¹³å‡æ•°ã€ä¸­ä½æ•°ã€ä¼—æ•°)
   â†“
ç¬¬3æ­¥: æŸ±çŠ¶å›¾ - æ¯”è¾ƒä¸åŒç±»åˆ«çš„æ•°æ®
   â†“
ç¬¬4æ­¥: æŠ˜çº¿å›¾ - æ˜¾ç¤ºæ•°æ®çš„å˜åŒ–è¶‹åŠ¿
   â†“
ç¬¬5æ­¥: é¥¼å›¾ - æ˜¾ç¤ºå„éƒ¨åˆ†å æ•´ä½“çš„æ¯”ä¾‹
   â†“
ç¬¬6æ­¥: ç»¼åˆé¡¹ç›® - åˆ¶ä½œå®Œæ•´çš„æ•°æ®æŠ¥è¡¨
```

> #### ğŸ‘¨â€ğŸ« ç»™å®¶é•¿çš„å°è´´å£«
> - **æ•°æ®å¯è§†åŒ–**æ˜¯ç°ä»£ä¿¡æ¯æ—¶ä»£çš„é‡è¦æŠ€èƒ½
> - å›¾è¡¨èƒ½åŸ¹å…»å­©å­çš„**æŠ½è±¡æ€ç»´èƒ½åŠ›**
> - æœ¬ç« é‡ç‚¹èå…¥**å°å­¦æ•°å­¦ç»Ÿè®¡çŸ¥è¯†**:å¹³å‡æ•°ã€ä¸­ä½æ•°ã€ä¼—æ•°ã€æ•°æ®åˆ†ç»„
> - å»ºè®®é€‰æ‹©å­©å­æ„Ÿå…´è¶£çš„æ•°æ®(å¦‚æ¸¸æˆæ•°æ®ã€è¿åŠ¨æ•°æ®)ä½œä¸ºç»ƒä¹ ç´ æ
> - é¼“åŠ±å­©å­ç”¨å›¾è¡¨è§£å†³å®é™…é—®é¢˜(å¦‚ç­çº§ç»Ÿè®¡ã€å®¶åº­è®°è´¦)
> - **æ•°å­¦çŸ¥è¯†ç‚¹æé†’**:
>   - å¹³å‡æ•° = æ€»æ•° Ã· ä¸ªæ•°
>   - ä¸­ä½æ•°:æ•°æ®ä»å¤§åˆ°å°æ’åˆ—,ä¸­é—´ä½ç½®çš„æ•°
>   - ä¼—æ•°:å‡ºç°æ¬¡æ•°æœ€å¤šçš„æ•°
>   - æ–¹å·®:æ•°æ®æ³¢åŠ¨å¤§å°çš„è¡¡é‡(æœ¬ç« ä¼šç®€å•ä»‹ç»)

---

## 15.1 è®¤è¯†pyechartsåº“

### 15.1.1 ä»€ä¹ˆæ˜¯pyecharts?

**pyecharts**æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºç”Ÿæˆå›¾è¡¨çš„Pythonåº“ã€‚å®ƒçš„åå­—å¯ä»¥æ‹†è§£ä¸º:
- **py**: Pythonçš„ç¼©å†™
- **echarts**: ç™¾åº¦å¼€æºçš„ä¸€ä¸ªå¼ºå¤§å›¾è¡¨å·¥å…·
- **s**: è¡¨ç¤ºè¿™æ˜¯echartsçš„Pythonç‰ˆæœ¬

**ä¸ºä»€ä¹ˆè¦ä½¿ç”¨pyecharts?**
1. **åŠŸèƒ½å¼ºå¤§**: æ”¯æŒå‡ åç§å›¾è¡¨ç±»å‹
2. **ç¾è§‚æ¼‚äº®**: ç”Ÿæˆçš„å›¾è¡¨é…è‰²å’Œæ ·å¼éƒ½å¾ˆä¸“ä¸š
3. **æ˜“äºä½¿ç”¨**: åªéœ€è¦å‡ è¡Œä»£ç å°±èƒ½ç”Ÿæˆå›¾è¡¨
4. **äº¤äº’å¼**: ç”Ÿæˆçš„å›¾è¡¨æ”¯æŒé¼ æ ‡æ‚¬åœã€ç‚¹å‡»ç¼©æ”¾ç­‰æ“ä½œ

### 15.1.2 å®‰è£…pyecharts

åœ¨å¼€å§‹ä½¿ç”¨pyechartsä¹‹å‰,éœ€è¦å…ˆå®‰è£…å®ƒã€‚è¿˜è®°å¾—æˆ‘ä»¬åœ¨ç¬¬13ç« å­¦è¿‡çš„**pip**å·¥å…·å—?

#### æ­¥éª¤1: æ‰“å¼€å‘½ä»¤è¡Œçª—å£

**Windowsç³»ç»Ÿ**:
1. æŒ‰Win+Ré”®
2. è¾“å…¥`cmd`
3. æŒ‰å›è½¦é”®

**Macç³»ç»Ÿ**:
1. æŒ‰Command+ç©ºæ ¼é”®
2. è¾“å…¥"ç»ˆç«¯"
3. æŒ‰å›è½¦é”®

#### æ­¥éª¤2: å®‰è£…pyecharts

åœ¨å‘½ä»¤è¡Œçª—å£ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤:

```bash
pip install pyecharts
```

ä½ ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡º:

```
Collecting pyecharts
  Downloading pyecharts-2.0.4-py3-none-any.whl (...)
Installing collected packages: pyecharts
Successfully installed pyecharts-2.0.4
```

#### æ­¥éª¤3: éªŒè¯å®‰è£…

å®‰è£…å®Œæˆå,åœ¨Pythonä¸­è¾“å…¥ä»¥ä¸‹ä»£ç æµ‹è¯•:

```python
from pyecharts.charts import Bar
print("pyechartså®‰è£…æˆåŠŸ!")
```

å¦‚æœè¾“å‡º"pyechartså®‰è£…æˆåŠŸ!"è¯´æ˜å®‰è£…æˆåŠŸäº†!

#### æ­¥éª¤4: (å¯é€‰)å®‰è£…å›¾ç‰‡å¿«ç…§åŠŸèƒ½

å¦‚æœä½ æƒ³ç›´æ¥æŠŠå›¾è¡¨ä¿å­˜ä¸ºå›¾ç‰‡æ ¼å¼,éœ€è¦å®‰è£…é¢å¤–çš„æ’ä»¶:

```bash
pip install pyecharts_snapshot
```

è¿™ä¸ªåŠŸèƒ½å¯ä»¥æŠŠHTMLæ ¼å¼çš„å›¾è¡¨è½¬æ¢ä¸ºPNGæˆ–JPGå›¾ç‰‡ã€‚

> #### ç»™å®¶é•¿çš„å°è´´å£«
> - **pipå®‰è£…å¤±è´¥**: å¯èƒ½æ˜¯å› ä¸ºç½‘ç»œé—®é¢˜,å¯ä»¥å°è¯•ä½¿ç”¨å›½å†…é•œåƒæº:`pip install pyecharts -i https://pypi.tuna.tsinghua.edu.cn/simple`
> - **æƒé™é—®é¢˜**: å¦‚æœæç¤ºæƒé™ä¸è¶³,åœ¨Windowsä¸Šä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œå‘½ä»¤è¡Œ,Macä¸Šä½¿ç”¨sudo
> - **ç‰ˆæœ¬é—®é¢˜**: pyechartsæœ‰v1å’Œv2ä¸¤ä¸ªç‰ˆæœ¬,æœ¬ä¹¦ä½¿ç”¨v2ç‰ˆæœ¬
> - **ç¦»çº¿å®‰è£…**: å¦‚æœç½‘ç»œä¸å¥½,å¯ä»¥ä¸‹è½½whlæ–‡ä»¶åæœ¬åœ°å®‰è£…

> #### å¸¸è§é—®é¢˜è§£ç­”
> **Q: ä¸ºä»€ä¹ˆè¦å®‰è£…è¿™ä¹ˆå¤§çš„åº“?**
> A: pyechartsåŒ…å«äº†å¤§é‡çš„å›¾è¡¨æ¨¡æ¿å’Œæ ·å¼æ–‡ä»¶,æ‰€ä»¥æ¯”è¾ƒå¤§ã€‚ä½†è¿™äº›æ–‡ä»¶è®©æˆ‘ä»¬èƒ½åšå‡ºæ›´ä¸“ä¸šçš„å›¾è¡¨ã€‚
>
> **Q: å®‰è£…å¤±è´¥æ€ä¹ˆåŠ?**
> A: 1) æ£€æŸ¥ç½‘ç»œè¿æ¥ 2) å°è¯•å‡çº§pip:`python -m pip install --upgrade pip` 3) ä½¿ç”¨å›½å†…é•œåƒæº
>
> **Q: æ¯æ¬¡ä½¿ç”¨éƒ½è¦é‡æ–°å®‰è£…å—?**
> A: ä¸éœ€è¦!å®‰è£…ä¸€æ¬¡å,ä»¥ååœ¨ä»»ä½•Pythonç¨‹åºä¸­éƒ½å¯ä»¥ä½¿ç”¨ã€‚

### 15.1.3 pyechartsçš„åŸºæœ¬ä½¿ç”¨æµç¨‹

ä½¿ç”¨pyechartsç”Ÿæˆå›¾è¡¨ä¸€èˆ¬åˆ†ä¸º5ä¸ªæ­¥éª¤:

```python
# æ­¥éª¤1: å¯¼å…¥éœ€è¦çš„å›¾è¡¨ç±»
from pyecharts.charts import Bar

# æ­¥éª¤2: åˆ›å»ºå›¾è¡¨å¯¹è±¡
bar = Bar()

# æ­¥éª¤3: æ·»åŠ æ•°æ®
bar.add_xaxis(["è¡¬è¡«", "ç¾Šæ¯›è¡«", "é›ªçººè¡«", "è£¤å­", "é«˜è·Ÿé‹", "è¢œå­"])
bar.add_yaxis("å•†å®¶A", [5, 20, 36, 10, 10, 100])

# æ­¥éª¤4: è®¾ç½®å…¨å±€é€‰é¡¹(å¯é€‰)
bar.set_global_opts(title_opts={"text": "æˆ‘çš„ç¬¬ä¸€ä¸ªå›¾è¡¨"})

# æ­¥éª¤5: æ¸²æŸ“ç”ŸæˆHTMLæ–‡ä»¶
bar.render("my_first_chart.html")
```

**ä»£ç è§£æ**:
1. **å¯¼å…¥**: ä»pyecharts.chartså¯¼å…¥ä½ éœ€è¦çš„å›¾è¡¨ç±»(å¦‚Barã€Lineã€Pie)
2. **åˆ›å»º**: åˆ›å»ºä¸€ä¸ªå›¾è¡¨å¯¹è±¡
3. **æ•°æ®**: ç”¨add_xaxis()æ·»åŠ xè½´æ•°æ®,ç”¨add_yaxis()æ·»åŠ yè½´æ•°æ®
4. **é€‰é¡¹**: è®¾ç½®æ ‡é¢˜ã€å›¾ä¾‹ã€å·¥å…·ç®±ç­‰é…ç½®
5. **æ¸²æŸ“**: ç”Ÿæˆä¸€ä¸ªHTMLæ–‡ä»¶,ç”¨æµè§ˆå™¨æ‰“å¼€å°±èƒ½çœ‹åˆ°å›¾è¡¨

**è¿è¡Œç»“æœ**:
ç¨‹åºè¿è¡Œå,ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆ`my_first_chart.html`æ–‡ä»¶ã€‚åŒå‡»è¿™ä¸ªæ–‡ä»¶,æµè§ˆå™¨ä¼šæ‰“å¼€å®ƒ,ä½ å°±èƒ½çœ‹åˆ°ä¸€ä¸ªæ¼‚äº®çš„æŸ±çŠ¶å›¾äº†!

> #### ç»™å®¶é•¿çš„å°è´´å£«
> - **HTMLæ–‡ä»¶**: ç”Ÿæˆçš„å›¾è¡¨æ˜¯ç½‘é¡µæ ¼å¼(HTML),ä¸éœ€è¦é¢å¤–å®‰è£…è½¯ä»¶å°±èƒ½æ‰“å¼€
> - **ä»£ç ç»“æ„**: å¼ºè°ƒ"å¯¼å…¥-åˆ›å»º-æ·»åŠ æ•°æ®-è®¾ç½®é€‰é¡¹-æ¸²æŸ“"è¿™5æ­¥å›ºå®šæµç¨‹
> - **é€æ­¥æ¼”ç¤º**: å»ºè®®å…ˆè®©å­©å­çœ‹å®Œæ•´çš„è¿è¡Œæ•ˆæœ,æ¿€å‘å­¦ä¹ å…´è¶£
> - **æ–‡ä»¶ä½ç½®**: æé†’å­©å­æ³¨æ„HTMLæ–‡ä»¶çš„ä¿å­˜ä½ç½®,æ–¹ä¾¿æŸ¥æ‰¾

> #### å®è·µç»ƒä¹ 1:ä¿®æ”¹æ•°æ®
>
> **ä»»åŠ¡**: å°†ä¸Šé¢çš„ä»£ç å¤åˆ¶ä¸‹æ¥,ä¿®æ”¹æ•°æ®:
> - xè½´æ”¹æˆä½ å–œæ¬¢çš„6ç§æ°´æœ
> - yè½´æ”¹æˆæ¯ç§æ°´æœçš„ä»·æ ¼(å…ƒ)
> - æ ‡é¢˜æ”¹æˆ"æ°´æœä»·æ ¼è¡¨"
>
> **æç¤º**:
> ```python
> bar.add_xaxis(["è‹¹æœ", "é¦™è•‰", "æ©™å­", "è‰è“", "è‘¡è„", "è¥¿ç“œ"])
> bar.add_yaxis("ä»·æ ¼", [8, 3, 6, 15, 12, 5])
> ```
>
> **ç­”æ¡ˆ**:
> <details>
> <summary>ç‚¹å‡»æŸ¥çœ‹å®Œæ•´ä»£ç </summary>
>
> ```python
> from pyecharts.charts import Bar
>
> # åˆ›å»ºå›¾è¡¨å¯¹è±¡
> bar = Bar()
>
> # æ·»åŠ æ•°æ®
> bar.add_xaxis(["è‹¹æœ", "é¦™è•‰", "æ©™å­", "è‰è“", "è‘¡è„", "è¥¿ç“œ"])
> bar.add_yaxis("ä»·æ ¼(å…ƒ)", [8, 3, 6, 15, 12, 5])
>
> # è®¾ç½®æ ‡é¢˜
> bar.set_global_opts(title_opts={"text": "æ°´æœä»·æ ¼è¡¨"})
>
> # ç”Ÿæˆå›¾è¡¨
> bar.render("fruit_price.html")
> ```
> è¿è¡Œåæ‰“å¼€`fruit_price.html`,ä½ å°±èƒ½çœ‹åˆ°æ°´æœä»·æ ¼çš„æŸ±çŠ¶å›¾äº†!
> </details>

---

## 15.2 æ•°å­¦ç»Ÿè®¡çŸ¥è¯†å¤ä¹  ğŸ“Š

åœ¨å¼€å§‹åˆ¶ä½œå›¾è¡¨ä¹‹å‰,è®©æˆ‘ä»¬å…ˆå¤ä¹ ä¸€äº›**æ•°å­¦ç»Ÿè®¡çŸ¥è¯†**ã€‚è¿™äº›çŸ¥è¯†ä¼šåœ¨åˆ¶ä½œå›¾è¡¨æ—¶ç»å¸¸ç”¨åˆ°!

### 15.2.1 å¹³å‡æ•°(Average)

**ä»€ä¹ˆæ˜¯å¹³å‡æ•°?**

å¹³å‡æ•°æ˜¯ä¸€ç»„æ•°æ®çš„"ä»£è¡¨å€¼",å®ƒèƒ½åæ˜ è¿™ç»„æ•°æ®çš„**æ•´ä½“æ°´å¹³**ã€‚

**ğŸ ç”Ÿæ´»ä¸­çš„ä¾‹å­**:
å‡è®¾ä½ æœ‰5ä¸ªè‹¹æœ,åˆ†åˆ«é‡: 150å…‹ã€160å…‹ã€140å…‹ã€155å…‹ã€145å…‹ã€‚

**è®¡ç®—å¹³å‡æ•°çš„æ­¥éª¤**:

```python
# æ­¥éª¤1: æŠŠæ‰€æœ‰æ•°æ®åŠ èµ·æ¥
total = 150 + 160 + 140 + 155 + 145
print("æ€»é‡é‡:", total)  # è¾“å‡º: 750å…‹

# æ­¥éª¤2: é™¤ä»¥æ•°æ®çš„ä¸ªæ•°
average = total / 5
print("å¹³å‡é‡é‡:", average)  # è¾“å‡º: 150å…‹
```

**ç”¨Pythonè®¡ç®—å¹³å‡æ•°**:

```python
# ä¸€ç»„æ•°æ®
scores = [85, 90, 78, 92, 88]

# æ–¹æ³•1: ä½¿ç”¨sum()å’Œlen()
average = sum(scores) / len(scores)
print(f"å¹³å‡åˆ†: {average}")

# æ–¹æ³•2: ç”¨å¾ªç¯è®¡ç®—
total = 0
for score in scores:
    total += score
average = total / len(scores)
print(f"å¹³å‡åˆ†: {average}")
```

**å¹³å‡æ•°çš„æ•°å­¦æ„ä¹‰**:
- å¦‚æœæ¯ä¸ªäººçš„æˆç»©éƒ½ç­‰äºå¹³å‡åˆ†,é‚£ä¹ˆæ€»åˆ†ä¸ä¼šå˜
- å¹³å‡æ•°æ˜¯"å…¬å¹³"çš„ä½“ç°â€”â€”æ¯ä¸ªäººè´¡çŒ®ç›¸åŒ

> #### ğŸ‘¨â€ğŸ« ç»™å®¶é•¿çš„å°è´´å£«
> - **å¹³å‡æ•° vs æ€»æ•°**: é—®å­©å­"ä¸ºä»€ä¹ˆæœ‰äº†æ€»æ•°è¿˜è¦ç®—å¹³å‡æ•°?"(å› ä¸ºäººæ•°ä¸åŒæ—¶,æ€»æ•°ä¸èƒ½ç›´æ¥æ¯”è¾ƒ)
> - **ç”Ÿæ´»ä¸­çš„å¹³å‡æ•°**: å¹³å‡æ°”æ¸©ã€å¹³å‡èº«é«˜ã€å¹³å‡é€Ÿåº¦ã€å¹³å‡ä»·æ ¼
> - **è®¡ç®—æŠ€å·§**: å…ˆä¼°ç®—,å†ç²¾ç¡®è®¡ç®—ã€‚æ¯”å¦‚[85, 90, 78, 92, 88],å¯ä»¥ä¼°ç®—"å¤§çº¦85å·¦å³"
> - **é”™è¯¯è®¤çŸ¥**: å¹³å‡æ•°ä¸ä¸€å®šæ˜¯æ•°æ®ä¸­çš„æŸä¸ªå€¼(æ¯”å¦‚[1, 2, 10],å¹³å‡æ•°æ˜¯4.33,ä¸åœ¨åŸæ•°æ®ä¸­)

### 15.2.2 ä¸­ä½æ•°(Median)

**ä»€ä¹ˆæ˜¯ä¸­ä½æ•°?**

ä¸­ä½æ•°æ˜¯æŠŠæ•°æ®**æŒ‰å¤§å°æ’åˆ—**å,ä½äº**ä¸­é—´ä½ç½®**çš„é‚£ä¸ªæ•°ã€‚

**ğŸƒ ç”Ÿæ´»ä¸­çš„ä¾‹å­**:
è·‘æ­¥æ¯”èµ›,5ä¸ªäººçš„æˆç»©æ˜¯:
- 3åˆ†20ç§’ã€3åˆ†15ç§’ã€3åˆ†25ç§’ã€3åˆ†18ç§’ã€3åˆ†22ç§’

**æ‰¾ä¸­ä½æ•°çš„æ­¥éª¤**:

```python
# æ­¥éª¤1: æŠŠæ•°æ®ä»å°åˆ°å¤§æ’åˆ—
times = [3*60+15, 3*60+18, 3*60+20, 3*60+22, 3*60+25]  # è½¬æ¢ä¸ºç§’
print("æ’åºå‰:", times)

# ä½¿ç”¨Pythonæ’åº
times_sorted = sorted(times)
print("æ’åºå:", times_sorted)  # [195, 198, 200, 202, 205]

# æ­¥éª¤2: æ‰¾ä¸­é—´ä½ç½®çš„æ•°æ®(ç¬¬3ä¸ª)
median_index = len(times_sorted) // 2  # 5//2 = 2(ç´¢å¼•ä»0å¼€å§‹)
median = times_sorted[median_index]
print(f"ä¸­ä½æ•°: {median}ç§’,å³{median//60}åˆ†{median%60}ç§’")
```

**ä¸­ä½æ•°çš„ç‰¹ç‚¹**:
- æ•°æ®ä¸ªæ•°æ˜¯**å¥‡æ•°**æ—¶,ä¸­ä½æ•°å°±æ˜¯ä¸­é—´çš„é‚£ä¸ªæ•°
- æ•°æ®ä¸ªæ•°æ˜¯**å¶æ•°**æ—¶,ä¸­ä½æ•°æ˜¯ä¸­é—´ä¸¤ä¸ªæ•°çš„**å¹³å‡æ•°**

**å¶æ•°ä¸ªæ•°æ®çš„ä¾‹å­**:

```python
# 6ä¸ªæ•°æ®
scores = [85, 90, 78, 92, 88, 95]

# æ’åº
scores_sorted = sorted(scores)  # [78, 85, 88, 90, 92, 95]

# ä¸­é—´ä¸¤ä¸ªæ•°: ç¬¬3ä¸ª(88)å’Œç¬¬4ä¸ª(90)
middle1 = scores_sorted[2]   # ç¬¬3ä¸ª,ç´¢å¼•ä¸º2
middle2 = scores_sorted[3]   # ç¬¬4ä¸ª,ç´¢å¼•ä¸º3

median = (middle1 + middle2) / 2
print(f"ä¸­ä½æ•°: {median}")  # è¾“å‡º: 89.0
```

**ä¸­ä½æ•°çš„æ•°å­¦æ„ä¹‰**:
- ä¸­ä½æ•°ä¸å—**æç«¯å€¼**(å¤ªå¤§æˆ–å¤ªå°çš„æ•°)çš„å½±å“
- æ¯”å¦‚å·¥èµ„ç»Ÿè®¡,å¦‚æœæœ‰ä¸€ä¸ªäººå·¥èµ„ç‰¹åˆ«é«˜,å¹³å‡æ•°ä¼šå¤±çœŸ,ä½†ä¸­ä½æ•°èƒ½åæ˜ çœŸå®æƒ…å†µ

> #### ğŸ‘¨â€ğŸ« ç»™å®¶é•¿çš„å°è´´å£«
> - **å¹³å‡æ•° vs ä¸­ä½æ•°**: ä¸¾ä¾‹è¯´æ˜å·®å¼‚
>   - ç­çº§æˆç»©: [60, 85, 88, 90, 92],å¹³å‡æ•°=83,ä¸­ä½æ•°=88(æ¥è¿‘)
>   - ç­çº§æˆç»©: [10, 85, 88, 90, 92],å¹³å‡æ•°=73,ä¸­ä½æ•°=88(å·®å¼‚å¤§)
> - **ä»€ä¹ˆæ—¶å€™ç”¨ä¸­ä½æ•°**: å½“æœ‰æç«¯å€¼(å¼‚å¸¸å¤§æˆ–å¼‚å¸¸å°çš„æ•°æ®)æ—¶
> - **æ’åºæŠ€èƒ½**: æ•™å­©å­æ‰‹åŠ¨æ’åºçš„æ–¹æ³•(å†’æ³¡æ’åºçš„ç®€åŒ–ç‰ˆ)
> - **æ‰¾ä½ç½®**: å¥‡æ•°ä¸ªæ•°æ®çš„ä½ç½® = (æ€»æ•°+1)Ã·2,å¶æ•°ä¸ªæ•°æ®å–ä¸­é—´ä¸¤ä¸ªçš„å¹³å‡

### 15.2.3 ä¼—æ•°(Mode)

**ä»€ä¹ˆæ˜¯ä¼—æ•°?**

ä¼—æ•°æ˜¯ä¸€ç»„æ•°æ®ä¸­**å‡ºç°æ¬¡æ•°æœ€å¤š**çš„æ•°ã€‚

**ğŸ¨ ç”Ÿæ´»ä¸­çš„ä¾‹å­**:
ç­çº§åŒå­¦æœ€å–œæ¬¢çš„é¢œè‰²ç»Ÿè®¡:
- çº¢è‰²:5äººã€è“è‰²:8äººã€ç»¿è‰²:3äººã€é»„è‰²:8äººã€ç´«è‰²:2äºº

```python
# æ•°æ®
colors = ["çº¢", "è“", "ç»¿", "é»„", "ç´«"]
counts = [5, 8, 3, 8, 2]

# æ‰¾æœ€å¤§å€¼
max_count = max(counts)
print(f"æœ€å¤šäººé€‰çš„äººæ•°: {max_count}")

# æ‰¾æœ€å¤§å€¼çš„ä½ç½®
max_index = counts.index(max_count)
mode_color = colors[max_index]
print(f"ä¼—æ•°(æœ€å—æ¬¢è¿çš„é¢œè‰²): {mode_color}")
```

**å¤šä¸ªä¼—æ•°çš„æƒ…å†µ**:

```python
# æ•°æ®: [1, 2, 2, 3, 3, 4]
# 2å‡ºç°2æ¬¡,3ä¹Ÿå‡ºç°2æ¬¡
# è¿™ç»„æ•°æ®æœ‰"åŒä¼—æ•°": 2å’Œ3

# ç»Ÿè®¡æ¯ä¸ªæ•°å‡ºç°çš„æ¬¡æ•°
from collections import Counter

data = [1, 2, 2, 3, 3, 4]
count_result = Counter(data)
print("ç»Ÿè®¡ç»“æœ:", count_result)  # Counter({2: 2, 3: 2, 1: 1, 4: 1})

# æ‰¾å‡ºç°æœ€å¤šçš„æ¬¡æ•°
max_count = max(count_result.values())

# æ‰¾æ‰€æœ‰ä¼—æ•°
modes = [num for num, count in count_result.items() if count == max_count]
print(f"ä¼—æ•°: {modes}")  # è¾“å‡º: [2, 3]
```

**ä¼—æ•°çš„ç‰¹ç‚¹**:
- ä¸€ç»„æ•°æ®å¯èƒ½**æ²¡æœ‰ä¼—æ•°**(æ‰€æœ‰æ•°éƒ½åªå‡ºç°1æ¬¡)
- ä¸€ç»„æ•°æ®å¯èƒ½æœ‰**å¤šä¸ªä¼—æ•°**
- ä¼—æ•°ä¸€å®šæ˜¯**æ•°æ®ä¸­çš„æŸä¸ªå€¼**(è¿™ä¸€ç‚¹å’Œå¹³å‡æ•°ä¸åŒ!)

> #### ğŸ‘¨â€ğŸ« ç»™å®¶é•¿çš„å°è´´å£«
> - **ä¼—æ•° vs å¹³å‡æ•°**: ä¼—æ•°å…³æ³¨"æœ€å¤š",å¹³å‡æ•°å…³æ³¨"æ•´ä½“"
> - **æŠ•ç¥¨é€‰ä¸¾**: ä¼—æ•°å°±åƒæ°‘ä¸»æŠ•ç¥¨,å¾—ç¥¨æœ€å¤šçš„å½“é€‰
> - **å®é™…åº”ç”¨**:
>   - å•†åº—è¿›è´§å“ªç§å•†å“(å–å¾—æœ€å¥½çš„)
>   - é‹å‚ç”Ÿäº§å“ªç§å°ºç (ç©¿çš„äººæœ€å¤šçš„)
> - **ç¼–ç¨‹æ€ç»´**: ç”¨å­—å…¸ç»Ÿè®¡é¢‘æ¬¡æ˜¯å¸¸è§çš„æ•°æ®å¤„ç†æ–¹æ³•

### 15.2.4 æ•°æ®åˆ†ç»„(åŒºé—´ç»Ÿè®¡)

**ä»€ä¹ˆæ˜¯æ•°æ®åˆ†ç»„?**

å½“æ•°æ®å¾ˆå¤šæ—¶,æˆ‘ä»¬ä¸ä¼šé€ä¸ªç»Ÿè®¡,è€Œæ˜¯æŠŠæ•°æ®åˆ†æˆå‡ ä¸ª**åŒºé—´**(èŒƒå›´),ç»Ÿè®¡æ¯ä¸ªåŒºé—´æœ‰å¤šå°‘ä¸ªæ•°æ®ã€‚

**ğŸ“Š ç”Ÿæ´»ä¸­çš„ä¾‹å­**:

ç»Ÿè®¡ç­çº§50ä¸ªå­¦ç”Ÿçš„è€ƒè¯•æˆç»©:
- 100åˆ†: 3äºº
- 90-99åˆ†: 12äºº
- 80-89åˆ†: 20äºº
- 70-79åˆ†: 10äºº
- 60-69åˆ†: 4äºº
- 60åˆ†ä»¥ä¸‹: 1äºº

**ç”¨Pythonå®ç°æ•°æ®åˆ†ç»„**:

```python
# åŸå§‹æˆç»©æ•°æ®
scores = [95, 87, 92, 78, 85, 90, 88, 92, 85, 76,
          82, 89, 91, 85, 88, 90, 87, 85, 92, 88]

# å®šä¹‰åˆ†æ•°æ®µ
ranges = ["ä¼˜ç§€(90-100)", "è‰¯å¥½(80-89)", "åŠæ ¼(60-79)", "ä¸åŠæ ¼(0-59)"]
counts = [0, 0, 0, 0]

# ç»Ÿè®¡æ¯ä¸ªåˆ†æ•°æ®µçš„äººæ•°
for score in scores:
    if score >= 90:
        counts[0] += 1
    elif score >= 80:
        counts[1] += 1
    elif score >= 60:
        counts[2] += 1
    else:
        counts[3] += 1

print("åˆ†æ•°æ®µåˆ†å¸ƒ:")
for i in range(len(ranges)):
    print(f"{ranges[i]}: {counts[i]}äºº")
```

**æ•°æ®åˆ†ç»„çš„æ•°å­¦æ„ä¹‰**:
- ç®€åŒ–æ•°æ®,è®©æ•°æ®æ›´å®¹æ˜“ç†è§£
- ä¿ç•™æ•°æ®çš„æ•´ä½“è¶‹åŠ¿,åŒæ—¶å¿½ç•¥ç»†èŠ‚
- æ–¹ä¾¿åˆ¶ä½œç»Ÿè®¡å›¾è¡¨(ç›´æ–¹å›¾ã€é¥¼å›¾)

**åˆ†ç»„çš„æŠ€å·§**:
1. **ç­‰è·åˆ†ç»„**: æ¯ä¸ªåŒºé—´çš„é•¿åº¦ç›¸åŒ(å¦‚0-10, 10-20, 20-30)
2. **æœ‰æ„ä¹‰åˆ†ç»„**: æ ¹æ®å®é™…æ„ä¹‰åˆ’åˆ†(å¦‚æˆç»©çš„ä¼˜ã€è‰¯ã€åŠæ ¼)
3. **è¾¹ç•Œæ˜ç¡®**: æ˜ç¡®åŒºé—´çš„èµ·ç‚¹å’Œç»ˆç‚¹(åŒ…æ‹¬ç«¯ç‚¹å—?)

> #### ğŸ‘¨â€ğŸ« ç»™å®¶é•¿çš„å°è´´å£«
> - **ä¸ºä»€ä¹ˆåˆ†ç»„**: é—®å­©å­"50ä¸ªäººçš„æˆç»©,é€ä¸ªæŸ±çŠ¶å›¾ä¼šå¾ˆæ‹¥æŒ¤,æ€ä¹ˆåŠ?"(å¼•å‡ºåˆ†ç»„)
> - **é€‰æ‹©åŒºé—´**: ä¸¾ä¾‹è¯´æ˜åŒºé—´å¤ªå¤§æˆ–å¤ªå°çš„é—®é¢˜
>   - å¤ªå¤§: [0-100]åªæœ‰ä¸€ä¸ªåŒºé—´,æ²¡æ„ä¹‰
>   - å¤ªå°: [0-1, 1-2, 2-3...]å¤ªç»†ç¢
>   - åˆé€‚: [0-59, 60-69, 70-79, 80-89, 90-100]
> - **åŒ…å«è¾¹ç•Œ**: 90åˆ†å±äºå“ªä¸ªåŒºé—´?éœ€è¦çº¦å®š(é€šå¸¸"å·¦é—­å³å¼€"[90,100)æˆ–"å·¦å¼€å³é—­"(89,100])
> - **å›¾è¡¨å¯¹åº”**: åˆ†ç»„æ•°æ®é€‚åˆåšé¥¼å›¾,æ˜¾ç¤ºå„éƒ¨åˆ†å æ¯”

### 15.2.5 ç»¼åˆç»ƒä¹ :æ•°æ®åˆ†æ

ç°åœ¨è®©æˆ‘ä»¬ç”¨åˆšæ‰å­¦åˆ°çš„ç»Ÿè®¡çŸ¥è¯†,åˆ†æä¸€ç»„çœŸå®æ•°æ®!

**ğŸ“š æ¡ˆä¾‹åˆ†æ**:ç­çº§é˜…è¯»æƒ…å†µç»Ÿè®¡

```python
# ç­çº§åŒå­¦è¿™å­¦æœŸé˜…è¯»çš„ä¹¦ç±æ•°é‡
books_read = [5, 8, 12, 6, 7, 10, 9, 8, 15, 6,
              7, 8, 9, 11, 7, 8, 10, 12, 8, 9]

# 1. è®¡ç®—å¹³å‡æ•°
average = sum(books_read) / len(books_read)
print(f"å¹³å‡æ¯äººè¯»{average:.1f}æœ¬ä¹¦")

# 2. æ‰¾ä¸­ä½æ•°
sorted_books = sorted(books_read)
n = len(sorted_books)
if n % 2 == 1:  # å¥‡æ•°ä¸ª
    median = sorted_books[n // 2]
else:  # å¶æ•°ä¸ª
    median = (sorted_books[n // 2 - 1] + sorted_books[n // 2]) / 2
print(f"ä¸­ä½æ•°: {median}æœ¬")

# 3. æ‰¾ä¼—æ•°
from collections import Counter
count_result = Counter(books_read)
max_count = max(count_result.values())
modes = [num for num, count in count_result.items() if count == max_count]
print(f"ä¼—æ•°: {modes}æœ¬")

# 4. æ•°æ®åˆ†ç»„
ranges = ["0-5æœ¬", "6-10æœ¬", "11-15æœ¬", "16æœ¬ä»¥ä¸Š"]
counts = [0, 0, 0, 0]
for books in books_read:
    if books <= 5:
        counts[0] += 1
    elif books <= 10:
        counts[1] += 1
    elif books <= 15:
        counts[2] += 1
    else:
        counts[3] += 1

print("\né˜…è¯»é‡åˆ†ç»„ç»Ÿè®¡:")
for i in range(len(ranges)):
    percentage = counts[i] / len(books_read) * 100
    print(f"{ranges[i]}: {counts[i]}äºº,å {percentage:.1f}%")
```

**è¿è¡Œç»“æœ**:
```
å¹³å‡æ¯äººè¯»8.7æœ¬ä¹¦
ä¸­ä½æ•°: 8.0æœ¬
ä¼—æ•°: [8]æœ¬

é˜…è¯»é‡åˆ†ç»„ç»Ÿè®¡:
0-5æœ¬: 1äºº,å 5.0%
6-10æœ¬: 15äºº,å 75.0%
11-15æœ¬: 4äºº,å 20.0%
16æœ¬ä»¥ä¸Š: 0äºº,å 0.0%
```

**æ•°æ®åˆ†æç»“è®º**:
- å¤§éƒ¨åˆ†åŒå­¦(75%)é˜…è¯»é‡åœ¨6-10æœ¬ä¹‹é—´
- å¹³å‡æ•°(8.7æœ¬)å’Œä¸­ä½æ•°(8æœ¬)æ¥è¿‘,è¯´æ˜æ•°æ®åˆ†å¸ƒæ¯”è¾ƒå‡åŒ€
- ä¼—æ•°æ˜¯8æœ¬,è¯´æ˜é˜…è¯»8æœ¬çš„åŒå­¦æœ€å¤š
- å…¨ç­æ²¡æœ‰ä¸€ä¸ªäººé˜…è¯»è¶…è¿‡15æœ¬,ä½†ä¹Ÿæ²¡æœ‰ä¸€ä¸ªäººé˜…è¯»å°‘äº6æœ¬(é™¤äº†1äºº)

> #### ğŸ‘¨â€ğŸ« ç»™å®¶é•¿çš„å°è´´å£«
> - **æ•°æ®æ€ç»´**: æ•™å­©å­ä»æ•°æ®ä¸­"è¯»æ•…äº‹",è€Œä¸æ˜¯åªçœ‹æ•°å­—
> - **å¤šè§’åº¦åˆ†æ**: å¹³å‡æ•°ã€ä¸­ä½æ•°ã€ä¼—æ•°å„æœ‰ç”¨å¤„,ç»¼åˆåˆ†ææ›´å…¨é¢
> - **æ‰¹åˆ¤æ€§æ€ç»´**: é—®å­©å­"å¦‚æœä½ æ˜¯è€å¸ˆ,çœ‹åˆ°è¿™ä¸ªæ•°æ®ä¼šæ€ä¹ˆåš?"(æ¯”å¦‚:ç»„ç»‡è¯»ä¹¦åˆ†äº«ä¼š)
> - **ç°å®åº”ç”¨**: é¼“åŠ±å­©å­ç”¨è¿™å¥—æ–¹æ³•åˆ†æè‡ªå·±çš„æ•°æ®(æ¸¸æˆæ—¶é•¿ã€å­¦ä¹ æ—¶é—´ç­‰)
> - **ç¼–ç¨‹ä»·å€¼**: å¼ºè°ƒPythonè®©æ•°æ®åˆ†æå˜å¾—ç®€å•é«˜æ•ˆ,æ‰‹ç®—20ä¸ªæ•°æ®è¦å¾ˆä¹…,Pythonåªéœ€è¦å‡ ç§’

> #### ğŸ¯ å®è·µç»ƒä¹ 2:ä½ è‡ªå·±çš„æ•°æ®åˆ†æ
>
> **ä»»åŠ¡**: æ”¶é›†ä¸€ç»„ä½ æ„Ÿå…´è¶£çš„æ•°æ®,å¹¶ç”¨Pythonåˆ†æ:
>
> **æ•°æ®ä¸»é¢˜å»ºè®®**:
> 1. **æ¸¸æˆæ•°æ®**: æœ€è¿‘10æ¬¡æ¸¸æˆçš„å¾—åˆ†/ç­‰çº§
> 2. **è¿åŠ¨æ•°æ®**: æœ€è¿‘2å‘¨æ¯å¤©çš„è¿åŠ¨æ—¶é•¿
> 3. **å­¦ä¹ æ•°æ®**: æœ€è¿‘10æ¬¡ä½œä¸šçš„åˆ†æ•°
> 4. **åˆ›æ„æ•°æ®**: å…¶ä»–ä½ æ„Ÿå…´è¶£çš„æ•°æ®
>
> **è¦æ±‚**:
> - è‡³å°‘10ä¸ªæ•°æ®ç‚¹
> - è®¡ç®—å¹³å‡æ•°ã€ä¸­ä½æ•°ã€ä¼—æ•°
> - è¿›è¡Œæ•°æ®åˆ†ç»„(è‡³å°‘3ä¸ªåŒºé—´)
> - å†™å‡ºåˆ†æç»“è®º(è‡³å°‘3æ¡)
>
> **ç­”æ¡ˆç¤ºä¾‹**:
> <details>
> <summary>ç‚¹å‡»æŸ¥çœ‹å‚è€ƒç­”æ¡ˆ</summary>
>
> ```python
> # ç¤ºä¾‹:æ¸¸æˆå¾—åˆ†åˆ†æ
> scores = [85, 92, 78, 88, 95, 82, 90, 87, 91, 89]
>
> # å¹³å‡æ•°
> avg = sum(scores) / len(scores)
> print(f"å¹³å‡åˆ†: {avg:.1f}")
>
> # ä¸­ä½æ•°
> sorted_scores = sorted(scores)
> median = (sorted_scores[4] + sorted_scores[5]) / 2
> print(f"ä¸­ä½æ•°: {median}")
>
> # ä¼—æ•°
> from collections import Counter
> count_result = Counter(scores)
> max_count = max(count_result.values())
> modes = [s for s, c in count_result.items() if c == max_count]
> print(f"ä¼—æ•°: {modes}")
>
> # æ•°æ®åˆ†ç»„
> ranges = ["ä¼˜ç§€(90-100)", "è‰¯å¥½(80-89)", "åŠæ ¼(60-79)", "ä¸åŠæ ¼(0-59)"]
> counts = [0, 0, 0, 0]
> for score in scores:
>     if score >= 90:
>         counts[0] += 1
>     elif score >= 80:
>         counts[1] += 1
>     elif score >= 60:
>         counts[2] += 1
>     else:
>         counts[3] += 1
>
> print("\nåˆ†æ•°æ®µåˆ†å¸ƒ:")
> for i in range(len(ranges)):
>     print(f"{ranges[i]}: {counts[i]}äºº")
> ```
> </details>


## 15.3 æŸ±çŠ¶å›¾ - æ¯”è¾ƒå¤§å°çš„é«˜æ‰‹

### 15.3.1 æŸ±çŠ¶å›¾çš„åº”ç”¨åœºæ™¯

**æŸ±çŠ¶å›¾(Bar Chart)**æ˜¯æœ€å¸¸è§çš„å›¾è¡¨ç±»å‹ä¹‹ä¸€,å®ƒç”¨æŸ±å­çš„é«˜åº¦æ¥è¡¨ç¤ºæ•°æ®çš„å¤§å°ã€‚

**æŸ±çŠ¶å›¾é€‚åˆç”¨æ¥**:
- **æ¯”è¾ƒä¸åŒç±»åˆ«**: æ¯”è¾ƒä¸åŒäº§å“çš„é”€é‡
- **æ’å**: æ˜¾ç¤ºç­çº§æˆç»©æ’å
- **ç»Ÿè®¡**: ç»Ÿè®¡æ¯ä¸ªæœˆçš„é›¶èŠ±é’±æ”¯å‡º

**ç”Ÿæ´»ä¸­çš„æŸ±çŠ¶å›¾ä¾‹å­**:
- å¥¥è¿ä¼šå¥–ç‰Œæ¦œ
- æ¸¸æˆè‹±é›„æˆ˜æ–—åŠ›å¯¹æ¯”
- å„åŸå¸‚äººå£æ•°é‡å¯¹æ¯”

### 15.3.2 åˆ›å»ºä¸€ä¸ªç®€å•çš„æŸ±çŠ¶å›¾

è®©æˆ‘ä»¬ä»æœ€ç®€å•çš„ä¾‹å­å¼€å§‹â€”â€”åˆ¶ä½œä¸€ä¸ªç­çº§æˆç»©çš„æŸ±çŠ¶å›¾:

```python
from pyecharts.charts import Bar

# åˆ›å»ºæŸ±çŠ¶å›¾
bar = Bar()

# æ·»åŠ xè½´æ•°æ®(å­¦ç”Ÿå§“å)
bar.add_xaxis(["å°æ˜", "å°çº¢", "å°åˆš", "å°ä¸½", "å°å"])

# æ·»åŠ yè½´æ•°æ®(è¯­æ–‡æˆç»©)
bar.add_yaxis("è¯­æ–‡æˆç»©", [85, 90, 78, 92, 88])

# è®¾ç½®æ ‡é¢˜
bar.set_global_opts(title_opts={"text": "ç­çº§è¯­æ–‡æˆç»©"})

# ç”ŸæˆHTMLæ–‡ä»¶
bar.render("class_scores.html")
```

**è¿è¡Œç»“æœ**:
ç¨‹åºä¼šç”Ÿæˆ`class_scores.html`æ–‡ä»¶,ç”¨æµè§ˆå™¨æ‰“å¼€å,ä½ ä¼šçœ‹åˆ°5ä¸ªä¸åŒé«˜åº¦çš„æŸ±å­,æ¯ä¸ªæŸ±å­ä»£è¡¨ä¸€ä¸ªå­¦ç”Ÿçš„è¯­æ–‡æˆç»©ã€‚

### 15.3.3 æ·»åŠ å¤šä¸ªç³»åˆ—çš„æ•°æ®

æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å¯¹æ¯”å¤šç»„æ•°æ®ã€‚æ¯”å¦‚,æƒ³åŒæ—¶æ˜¾ç¤ºæ¯ä¸ªå­¦ç”Ÿçš„è¯­æ–‡ã€æ•°å­¦ã€è‹±è¯­æˆç»©:

```python
from pyecharts.charts import Bar

bar = Bar()

# æ·»åŠ xè½´(å­¦ç”Ÿå§“å)
bar.add_xaxis(["å°æ˜", "å°çº¢", "å°åˆš", "å°ä¸½", "å°å"])

# æ·»åŠ å¤šç»„æ•°æ®
bar.add_yaxis("è¯­æ–‡", [85, 90, 78, 92, 88])
bar.add_yaxis("æ•°å­¦", [92, 88, 85, 95, 90])
bar.add_yaxis("è‹±è¯­", [78, 95, 82, 88, 91])

# è®¾ç½®æ ‡é¢˜
bar.set_global_opts(title_opts={"text": "ç­çº§æˆç»©è¡¨"})

# ç”Ÿæˆå›¾è¡¨
bar.render("class_scores_all.html")
```

**å›¾è¡¨è§£è¯»**:
- æ¯ä¸ªå­¦ç”Ÿä¼šæœ‰3æ ¹æŸ±å­,åˆ†åˆ«ä»£è¡¨è¯­æ–‡ã€æ•°å­¦ã€è‹±è¯­æˆç»©
- ä¸åŒé¢œè‰²çš„æŸ±å­ä»£è¡¨ä¸åŒçš„ç§‘ç›®
- å›¾è¡¨å³ä¸Šè§’ä¼šæ˜¾ç¤ºå›¾ä¾‹(è¯­æ–‡ã€æ•°å­¦ã€è‹±è¯­),ç‚¹å‡»å¯ä»¥éšè—/æ˜¾ç¤ºå¯¹åº”çš„æ•°æ®

> #### ç»™å®¶é•¿çš„å°è´´å£«
> - **é¢œè‰²åŒºåˆ†**: å¸®åŠ©å­©å­ç†è§£ä¸åŒé¢œè‰²ä»£è¡¨ä¸åŒæ•°æ®ç³»åˆ—
> - **å›¾ä¾‹åŠŸèƒ½**: æ¼”ç¤ºç‚¹å‡»å›¾ä¾‹å¯ä»¥éšè—/æ˜¾ç¤ºæ•°æ®,è¿™æ˜¯pyechartsçš„äº¤äº’åŠŸèƒ½
> - **æ•°æ®å¯¹åº”**: ç¡®ä¿xè½´å’Œyè½´çš„æ•°æ®æ•°é‡ä¸€è‡´,å¦åˆ™ä¼šæŠ¥é”™
> - **ä¸­æ–‡å­—ç¬¦**: pyechartså®Œå…¨æ”¯æŒä¸­æ–‡,ä¸ä¼šå‡ºç°ä¹±ç é—®é¢˜

> #### å®è·µç»ƒä¹ 2:æœ€å–œæ¬¢çš„è¿åŠ¨ç»Ÿè®¡
>
> **ä»»åŠ¡**: è°ƒæŸ¥ç­çº§åŒå­¦æœ€å–œæ¬¢çš„è¿åŠ¨,åˆ¶ä½œæŸ±çŠ¶å›¾:
> - xè½´: ç¯®çƒã€è¶³çƒã€ç¾½æ¯›çƒã€ä¹’ä¹“çƒã€è·‘æ­¥ã€æ¸¸æ³³
> - yè½´: å–œæ¬¢è¯¥é¡¹è¿åŠ¨çš„äººæ•°(å‡è®¾ä¸º: 15, 12, 8, 10, 6, 9)
> - æ ‡é¢˜: "ç­çº§è¿åŠ¨å–œå¥½è°ƒæŸ¥"
>
> **è¦æ±‚**:
> 1. æ·»åŠ yè½´åç§°:"äººæ•°"
> 2. æ·»åŠ æ•°æ®æ ‡ç­¾æ˜¾ç¤ºæ¯ä¸ªæŸ±å­ä¸Šçš„å…·ä½“æ•°å€¼
>
> **ç­”æ¡ˆ**:
> <details>
> <summary>ç‚¹å‡»æŸ¥çœ‹å®Œæ•´ä»£ç </summary>
>
> ```python
> from pyecharts.charts import Bar
> from pyecharts import options as opts
>
> bar = Bar()
>
> # æ·»åŠ æ•°æ®
> bar.add_xaxis(["ç¯®çƒ", "è¶³çƒ", "ç¾½æ¯›çƒ", "ä¹’ä¹“çƒ", "è·‘æ­¥", "æ¸¸æ³³"])
> bar.add_yaxis(
>     series_name="äººæ•°",
>     yaxis_data=[15, 12, 8, 10, 6, 9],
>     label_opts=opts.LabelOpts(is_show=True)  # æ˜¾ç¤ºæ•°æ®æ ‡ç­¾
> )
>
> # è®¾ç½®å…¨å±€é€‰é¡¹
> bar.set_global_opts(
>     title_opts={"text": "ç­çº§è¿åŠ¨å–œå¥½è°ƒæŸ¥"},
>     yaxis_opts=opts.AxisOpts(name="äººæ•°"),
>     xaxis_opts=opts.AxisOpts(name="è¿åŠ¨é¡¹ç›®")
> )
>
> # ç”Ÿæˆå›¾è¡¨
> bar.render("sports_survey.html")
> ```
> è¿è¡Œå,æ¯ä¸ªæŸ±å­ä¸Šä¼šæ˜¾ç¤ºå…·ä½“äººæ•°,æ–¹ä¾¿è¯»å–æ•°æ®!
> </details>

### 15.3.4 æŸ±çŠ¶å›¾çš„é«˜çº§è®¾ç½®

#### 1. æ°´å¹³æŸ±çŠ¶å›¾

é»˜è®¤çš„æŸ±çŠ¶å›¾æ˜¯å‚ç›´çš„,æŸ±å­ä»ä¸‹å¾€ä¸Šã€‚æœ‰æ—¶æˆ‘ä»¬éœ€è¦æ°´å¹³çš„æŸ±çŠ¶å›¾,æŸ±å­ä»å·¦å¾€å³:

```python
from pyecharts.charts import Bar
from pyecharts import options as opts

bar = Bar()

# æ·»åŠ æ•°æ®(åè½¬xå’Œyè½´çš„æ·»åŠ é¡ºåº)
bar.add_xaxis(["ç¯®çƒ", "è¶³çƒ", "ç¾½æ¯›çƒ", "ä¹’ä¹“çƒ", "è·‘æ­¥", "æ¸¸æ³³"])
bar.add_yaxis("äººæ•°", [15, 12, 8, 10, 6, 9])

# è®¾ç½®å…¨å±€é€‰é¡¹
bar.set_global_opts(
    title_opts={"text": "ç­çº§è¿åŠ¨å–œå¥½è°ƒæŸ¥"},
    yaxis_opts=opts.AxisOpts(name="äººæ•°"),
    xaxis_opts=opts.AxisOpts(name="è¿åŠ¨é¡¹ç›®")
)

# åè½¬xè½´å’Œyè½´
bar.reversal_axis()

# ç”Ÿæˆå›¾è¡¨
bar.render("horizontal_bar.html")
```

**ä½¿ç”¨åœºæ™¯**: æ°´å¹³æŸ±çŠ¶å›¾é€‚åˆç±»åˆ«åç§°å¾ˆé•¿çš„æƒ…å†µ(å¦‚"æ•°å­¦ç«èµ›æˆç»©"ã€"è‹±è¯­æ¼”è®²æ¯”èµ›"ç­‰),é¿å…æ–‡å­—é‡å ã€‚

#### 2. å †å æŸ±çŠ¶å›¾

å †å æŸ±çŠ¶å›¾å¯ä»¥è®©å¤šç»„æ•°æ®å åŠ æ˜¾ç¤º:

```python
from pyecharts.charts import Bar
from pyecharts import options as opts
from pyecharts.globals import ThemeType

# ä½¿ç”¨ä¸»é¢˜
bar = Bar(init_opts=opts.InitOpts(theme=ThemeType.LIGHT))

bar.add_xaxis(["ç¬¬ä¸€å­£åº¦", "ç¬¬äºŒå­£åº¦", "ç¬¬ä¸‰å­£åº¦", "ç¬¬å››å­£åº¦"])
bar.add_yaxis("ç”µå­äº§å“", [10, 20, 30, 40], stack="stack1")
bar.add_yaxis("æœè£…", [15, 25, 20, 35], stack="stack1")
bar.add_yaxis("é£Ÿå“", [20, 15, 25, 30], stack="stack1")

bar.set_global_opts(
    title_opts={"text": "å­£åº¦é”€å”®é¢"},
    yaxis_opts=opts.AxisOpts(name="é”€å”®é¢(ä¸‡å…ƒ)"),
    xaxis_opts=opts.AxisOpts(name="å­£åº¦"),
    toolbox_opts=opts.ToolboxOpts(is_show=True)  # æ˜¾ç¤ºå·¥å…·æ 
)

bar.render("stacked_bar.html")
```

**ä½¿ç”¨åœºæ™¯**: å †å æŸ±çŠ¶å›¾é€‚åˆæ˜¾ç¤ºéƒ¨åˆ†ä¸æ•´ä½“çš„å…³ç³»,æ¯”å¦‚æ¯å¤©ä¸åŒç±»åˆ«å•†å“çš„é”€å”®æ€»é¢ã€‚

> #### ç»™å®¶é•¿çš„å°è´´å£«
> - **ä¸»é¢˜æ ·å¼**: pyechartsæä¾›äº†å¤šä¸ªä¸»é¢˜(LIGHT, DARK, ROMAç­‰),å¯ä»¥å°è¯•ä¸åŒé£æ ¼
> - **å·¥å…·æ **: toolbox_optsä¼šæ˜¾ç¤ºä¸‹è½½å›¾ç‰‡ã€æ•°æ®è§†å›¾ç­‰åŠŸèƒ½,å¾ˆå®ç”¨
> - **å †å æ¦‚å¿µ**: ç”¨ç§¯æœ¨å é«˜é«˜æ¥ç±»æ¯”å †å æŸ±çŠ¶å›¾,å­©å­æ›´å®¹æ˜“ç†è§£
> - **ä»£ç å¤ç”¨**: é¼“åŠ±å­©å­æŠŠå¸¸ç”¨é…ç½®ä¿å­˜èµ·æ¥,ä¸‹æ¬¡ç›´æ¥ä½¿ç”¨

### 15.3.5 æŸ±çŠ¶å›¾çš„å¸¸è§é—®é¢˜

**é—®é¢˜1: ä¸­æ–‡æ˜¾ç¤ºä¹±ç **

è™½ç„¶pyechartsé»˜è®¤æ”¯æŒä¸­æ–‡,ä½†å¦‚æœä½ çš„Pythonæ–‡ä»¶ç¼–ç ä¸æ˜¯UTF-8,å¯èƒ½ä¼šå‡ºç°ä¹±ç ã€‚

**è§£å†³æ–¹æ³•**:
åœ¨Pythonæ–‡ä»¶çš„ç¬¬ä¸€è¡Œæ·»åŠ :
```python
# -*- coding: utf-8 -*-
```

**é—®é¢˜2: æŸ±å­å¤ªå¤šæ˜¾ç¤ºä¸ä¸‹**

å½“xè½´çš„ç±»åˆ«å¤ªå¤šæ—¶,æŸ±å­ä¼šæŒ¤åœ¨ä¸€èµ·ã€‚

**è§£å†³æ–¹æ³•**:
```python
bar.set_global_opts(
    xaxis_opts=opts.AxisOpts(
        axislabel_opts=opts.LabelOpts(rotate=45)  # æ—‹è½¬æ ‡ç­¾45åº¦
    )
)
```

**é—®é¢˜3: æ•°å€¼å·®å¼‚å¤ªå¤§**

å¦‚æœä¸€ç»„æ•°æ®æ˜¯[5, 8, 10],å¦ä¸€ç»„æ˜¯[1000, 2000, 3000],æ•°å€¼å°çš„æŸ±å­å‡ ä¹çœ‹ä¸è§ã€‚

**è§£å†³æ–¹æ³•**:
ä½¿ç”¨**åŒyè½´**(åœ¨é«˜çº§åº”ç”¨ä¸­ä¼šå­¦ä¹ )æˆ–è°ƒæ•´æ•°æ®æ¯”ä¾‹ã€‚

> #### å®è·µç»ƒä¹ 3:æ¯”è¾ƒè‡ªå·±å’Œå¶åƒçš„æ•°æ®
>
> **ä»»åŠ¡**: åˆ¶ä½œä¸€ä¸ªæŸ±çŠ¶å›¾,å¯¹æ¯”ä½ å’Œå¶åƒçš„æ•°æ®(å¯ä»¥æ˜¯æ¸¸æˆã€è¿åŠ¨ã€å­¦ä¹ ç­‰):
> - è¦æ±‚:è‡³å°‘3ä¸ªå¯¹æ¯”é¡¹ç›®(å¦‚:èº«é«˜ã€ä½“é‡ã€å¹´é¾„,æˆ–æ¸¸æˆç­‰çº§ã€èƒœç‡ã€åœºæ¬¡)
> - ä½¿ç”¨æ°´å¹³æŸ±çŠ¶å›¾
> - æ·»åŠ æ ‡é¢˜å’Œæ•°æ®æ ‡ç­¾
>
> **ç¤ºä¾‹æ•°æ®**:
> ```python
> me = [165, 50, 12]  # èº«é«˜cm, ä½“é‡kg, å¹´é¾„
> idol = [178, 65, 25]
> items = ["èº«é«˜(cm)", "ä½“é‡(kg)", "å¹´é¾„"]
> ```
>
> **ç­”æ¡ˆ**:
> <details>
> <summary>ç‚¹å‡»æŸ¥çœ‹å®Œæ•´ä»£ç </summary>
>
> ```python
> from pyecharts.charts import Bar
> from pyecharts import options as opts
>
> # ä½ çš„æ•°æ®
> me = [165, 50, 12]
> idol = [178, 65, 25]
> items = ["èº«é«˜(cm)", "ä½“é‡(kg)", "å¹´é¾„"]
>
> bar = Bar()
>
> bar.add_xaxis(items)
> bar.add_yaxis("æˆ‘", me, label_opts=opts.LabelOpts(is_show=True))
> bar.add_yaxis("å¶åƒ", idol, label_opts=opts.LabelOpts(is_show=True))
>
> bar.set_global_opts(
>     title_opts={"text": "æˆ‘å’Œå¶åƒçš„å¯¹æ¯”"}
> )
>
> bar.reversal_axis()
> bar.render("me_vs_idol.html")
> ```
> </details>

---

## 15.4 æŠ˜çº¿å›¾ - è¿½è¸ªå˜åŒ–è¶‹åŠ¿

### 15.4.1 æŠ˜çº¿å›¾çš„åº”ç”¨åœºæ™¯

**æŠ˜çº¿å›¾(Line Chart)**ç”¨çº¿æ®µè¿æ¥å„ä¸ªæ•°æ®ç‚¹,æ˜¾ç¤ºæ•°æ®éšæ—¶é—´æˆ–å…¶ä»–å› ç´ çš„å˜åŒ–è¶‹åŠ¿ã€‚

**æŠ˜çº¿å›¾é€‚åˆç”¨æ¥**:
- **æ˜¾ç¤ºè¶‹åŠ¿**: æ¯”å¦‚ä¸€å¹´çš„æ°”æ¸©å˜åŒ–
- **å¯¹æ¯”å˜åŒ–**: æ¯”è¾ƒä¸¤ä¸ªå­¦ç”Ÿçš„æˆç»©è¿›æ­¥æƒ…å†µ
- **é¢„æµ‹æœªæ¥**: æ ¹æ®å†å²æ•°æ®é¢„æµ‹è¶‹åŠ¿

**ç”Ÿæ´»ä¸­çš„æŠ˜çº¿å›¾ä¾‹å­**:
- å¤©æ°”é¢„æŠ¥çš„æ°”æ¸©æ›²çº¿
- æ–°å† ç–«æƒ…çš„æ•°æ®æ›²çº¿
- è‚¡ç¥¨ä»·æ ¼çš„Kçº¿å›¾

### 15.4.2 åˆ›å»ºä¸€ä¸ªç®€å•çš„æŠ˜çº¿å›¾

è®©æˆ‘ä»¬åˆ¶ä½œä¸€ä¸ªæ˜¾ç¤ºä¸€å‘¨æ°”æ¸©å˜åŒ–çš„æŠ˜çº¿å›¾:

```python
from pyecharts.charts import Line

# åˆ›å»ºæŠ˜çº¿å›¾
line = Line()

# æ·»åŠ xè½´æ•°æ®(æ˜ŸæœŸ)
line.add_xaxis(["å‘¨ä¸€", "å‘¨äºŒ", "å‘¨ä¸‰", "å‘¨å››", "å‘¨äº”", "å‘¨å…­", "å‘¨æ—¥"])

# æ·»åŠ yè½´æ•°æ®(æœ€é«˜æ°”æ¸©)
line.add_yaxis("æœ€é«˜æ°”æ¸©(Â°C)", [22, 24, 26, 25, 23, 28, 30])

# è®¾ç½®æ ‡é¢˜
line.set_global_opts(title_opts={"text": "ä¸€å‘¨æ°”æ¸©å˜åŒ–"})

# ç”Ÿæˆå›¾è¡¨
line.render("temperature_line.html")
```

**å›¾è¡¨è§£è¯»**:
- xè½´è¡¨ç¤ºæ˜ŸæœŸ
- yè½´è¡¨ç¤ºæ¸©åº¦
- æŠ˜çº¿æ˜¾ç¤ºæ¸©åº¦çš„å˜åŒ–è¶‹åŠ¿
- å¯ä»¥çœ‹å‡ºå“ªå¤©æœ€çƒ­,å“ªå¤©æœ€å‡‰å¿«

### 15.4.3 æ·»åŠ å¤šä¸ªæ•°æ®ç³»åˆ—

æŠ˜çº¿å›¾ç‰¹åˆ«é€‚åˆå¯¹æ¯”å¤šä¸ªæ•°æ®ç³»åˆ—çš„å˜åŒ–è¶‹åŠ¿:

```python
from pyecharts.charts import Line

line = Line()

# æ·»åŠ xè½´
line.add_xaxis(["å‘¨ä¸€", "å‘¨äºŒ", "å‘¨ä¸‰", "å‘¨å››", "å‘¨äº”", "å‘¨å…­", "å‘¨æ—¥"])

# æ·»åŠ å¤šç»„æ•°æ®
line.add_yaxis("æœ€é«˜æ°”æ¸©(Â°C)", [22, 24, 26, 25, 23, 28, 30])
line.add_yaxis("æœ€ä½æ°”æ¸©(Â°C)", [15, 16, 18, 17, 14, 19, 20])

# è®¾ç½®æ ‡é¢˜
line.set_global_opts(title_opts={"text": "ä¸€å‘¨æ°”æ¸©å˜åŒ–"})

# ç”Ÿæˆå›¾è¡¨
line.render("temperature_double_line.html")
```

**å›¾è¡¨è§£è¯»**:
- ä¸¤æ¡æŠ˜çº¿åˆ†åˆ«ä»£è¡¨æœ€é«˜æ°”æ¸©å’Œæœ€ä½æ°”æ¸©
- å¯ä»¥çœ‹å‡ºæ¯å¤©çš„æ¸©å·®(ä¸¤æ¡çº¿ä¹‹é—´çš„è·ç¦»)
- å¯ä»¥çœ‹å‡ºæ°”æ¸©çš„æ€»ä½“å˜åŒ–è¶‹åŠ¿

> #### ç»™å®¶é•¿çš„å°è´´å£«
> - **è¶‹åŠ¿è§£è¯»**: æ•™å­©å­å¦‚ä½•ä»æŠ˜çº¿å›¾ä¸­è¯»å–ä¿¡æ¯(ä¸Šå‡ã€ä¸‹é™ã€æ³¢åŠ¨)
> - **æ•°æ®å¯¹æ¯”**: å¤šæ¡æŠ˜çº¿å¯¹æ¯”æ—¶,å¼•å¯¼å­©å­æ‰¾å‡ºè§„å¾‹(å¦‚:Aä¸€ç›´æ¯”Bé«˜,Aå’ŒBå‘ˆç›¸åå˜åŒ–)
> - **å®é™…åº”ç”¨**: é¼“åŠ±å­©å­è®°å½•è‡ªå·±çš„æ•°æ®(å¦‚æ¯å¤©çš„å­¦ä¹ æ—¶é—´),ç”¨æŠ˜çº¿å›¾åˆ†æ
> - **æ•°æ®æ”¶é›†**: è¿™ä¸ªè¿‡ç¨‹è¿˜èƒ½åŸ¹å…»å­©å­çš„æ•°æ®æ”¶é›†ä¹ æƒ¯

> #### å®è·µç»ƒä¹ 4:æˆ‘çš„æˆç»©è¿›æ­¥æ›²çº¿
>
> **ä»»åŠ¡**: åˆ¶ä½œä¸€ä¸ªæŠ˜çº¿å›¾,æ˜¾ç¤ºä½ æœ€è¿‘5æ¬¡è€ƒè¯•çš„æˆç»©å˜åŒ–:
> - xè½´: ç¬¬1æ¬¡ã€ç¬¬2æ¬¡ã€ç¬¬3æ¬¡ã€ç¬¬4æ¬¡ã€ç¬¬5æ¬¡
> - yè½´: è¯­æ–‡å’Œæ•°å­¦çš„æˆç»©
> - æ·»åŠ æ•°æ®æ ‡è®°ç‚¹
>
> **ç¤ºä¾‹æ•°æ®**:
> ```python
> chinese = [75, 78, 82, 85, 88]
> math = [80, 79, 83, 87, 90]
> exams = ["ç¬¬1æ¬¡", "ç¬¬2æ¬¡", "ç¬¬3æ¬¡", "ç¬¬4æ¬¡", "ç¬¬5æ¬¡"]
> ```
>
> **ç­”æ¡ˆ**:
> <details>
> <summary>ç‚¹å‡»æŸ¥çœ‹å®Œæ•´ä»£ç </summary>
>
> ```python
> from pyecharts.charts import Line
> from pyecharts import options as opts
>
> # æˆç»©æ•°æ®
> chinese = [75, 78, 82, 85, 88]
> math = [80, 79, 83, 87, 90]
> exams = ["ç¬¬1æ¬¡", "ç¬¬2æ¬¡", "ç¬¬3æ¬¡", "ç¬¬4æ¬¡", "ç¬¬5æ¬¡"]
>
> line = Line()
>
> line.add_xaxis(exams)
> line.add_yaxis(
>     "è¯­æ–‡",
>     chinese,
>     markpoint_opts=opts.MarkPointOpts(data=[opts.MarkPointItem(type_="max")]),
>     markline_opts=opts.MarkLineOpts(data=[opts.MarkLineItem(type_="average")])
> )
> line.add_yaxis("æ•°å­¦", math)
>
> line.set_global_opts(
>     title_opts={"text": "æˆ‘çš„æˆç»©è¿›æ­¥æ›²çº¿"},
>     yaxis_opts=opts.AxisOpts(name="åˆ†æ•°"),
>     xaxis_opts=opts.AxisOpts(name="è€ƒè¯•æ¬¡æ•°")
> )
>
> line.render("my_scores.html")
> ```
> è¿è¡Œå,ä½ ä¼šçœ‹åˆ°ä¸¤æ¡æŠ˜çº¿,è¯­æ–‡çš„æœ€é«˜åˆ†ä¼šè‡ªåŠ¨æ ‡è®°,å¹³å‡åˆ†ä¹Ÿä¼šæ˜¾ç¤º!
> </details>

### 15.4.4 å¹³æ»‘æ›²çº¿å’Œé¢ç§¯å›¾

#### 1. å¹³æ»‘æ›²çº¿

é»˜è®¤çš„æŠ˜çº¿å›¾æ˜¯ç›´çº¿è¿æ¥å„ä¸ªç‚¹ã€‚è®¾ç½®`is_smooth=True`å¯ä»¥è®©çº¿æ¡å˜å¾—å¹³æ»‘:

```python
from pyecharts.charts import Line

line = Line()

line.add_xaxis(["1æœˆ", "2æœˆ", "3æœˆ", "4æœˆ", "5æœˆ", "6æœˆ"])
line.add_yaxis("é”€å”®é¢(ä¸‡å…ƒ)", [10, 15, 13, 18, 20, 25], is_smooth=True)

line.set_global_opts(title_opts={"text": "ä¸ŠåŠå¹´é”€å”®é¢"})

line.render("smooth_line.html")
```

**æ•ˆæœ**: æŠ˜çº¿å˜æˆäº†å¹³æ»‘çš„æ›²çº¿,çœ‹èµ·æ¥æ›´ç¾è§‚,é€‚åˆè¡¨ç¤ºè¿ç»­å˜åŒ–çš„æ•°æ®(å¦‚æ°”æ¸©ã€é€Ÿåº¦ç­‰)ã€‚

#### 2. é¢ç§¯å›¾

é¢ç§¯å›¾æ˜¯åœ¨æŠ˜çº¿å›¾ä¸‹æ–¹å¡«å……é¢œè‰²,å¼ºè°ƒæ•°æ®çš„"é‡":

```python
from pyecharts.charts import Line
from pyecharts import options as opts

line = Line()

line.add_xaxis(["å‘¨ä¸€", "å‘¨äºŒ", "å‘¨ä¸‰", "å‘¨å››", "å‘¨äº”", "å‘¨å…­", "å‘¨æ—¥"])
line.add_yaxis(
    "å­¦ä¹ æ—¶é—´(å°æ—¶)",
    [2, 2.5, 3, 2, 3.5, 4, 3],
    areastyle_opts=opts.AreaStyleOpts(opacity=0.5)  # å¡«å……åŒºåŸŸ,é€æ˜åº¦0.5
)

line.set_global_opts(title_opts={"text": "ä¸€å‘¨å­¦ä¹ æ—¶é—´ç»Ÿè®¡"})

line.render("area_line.html")
```

**ä½¿ç”¨åœºæ™¯**: é¢ç§¯å›¾é€‚åˆå¼ºè°ƒç´¯ç§¯é‡æˆ–æ€»é‡,å¦‚æ¯å¤©çš„å­¦ä¹ æ—¶é—´ã€æ¯æœˆçš„é›¶èŠ±é’±æ”¯å‡ºã€‚

> #### ç»™å®¶é•¿çš„å°è´´å£«
> - **å¹³æ»‘ vs ç›´çº¿**: å¹³æ»‘æ›²çº¿çœ‹èµ·æ¥æ›´ç¾è§‚,ä½†ä¸é€‚åˆå¼ºè°ƒç²¾ç¡®çš„æ•°æ®ç‚¹
> - **é¢ç§¯å›¾**: é€‚åˆç”¨"ç§¯æœ¨å †å "æˆ–"è£…æ°´"çš„ç±»æ¯”è§£é‡Š
> - **é€æ˜åº¦**: opacityèŒƒå›´æ˜¯0åˆ°1,0è¡¨ç¤ºå®Œå…¨é€æ˜,1è¡¨ç¤ºä¸é€æ˜
> - **äº¤äº’åŠŸèƒ½**: é¼ æ ‡æ‚¬åœåœ¨å›¾è¡¨ä¸Šæ—¶,ä¼šæ˜¾ç¤ºè¯¦ç»†çš„æ•°æ®æç¤ºæ¡†

### 15.4.5 æŠ˜çº¿å›¾çš„æ ‡è®°åŠŸèƒ½

pyechartså¯ä»¥åœ¨æŠ˜çº¿å›¾ä¸Šè‡ªåŠ¨æ ‡è®°ç‰¹æ®Šç‚¹:

```python
from pyecharts.charts import Line
from pyecharts import options as opts

line = Line()

line.add_xaxis(["1æœˆ", "2æœˆ", "3æœˆ", "4æœˆ", "5æœˆ", "6æœˆ"])
line.add_yaxis(
    "é”€å”®é¢(ä¸‡å…ƒ)",
    [10, 15, 13, 18, 20, 25],
    # æ ‡è®°ç‚¹:æœ€å¤§å€¼ã€æœ€å°å€¼
    markpoint_opts=opts.MarkPointOpts(
        data=[
            opts.MarkPointItem(type_="max", name="æœ€å¤§å€¼"),
            opts.MarkPointItem(type_="min", name="æœ€å°å€¼")
        ]
    ),
    # æ ‡è®°çº¿:å¹³å‡å€¼
    markline_opts=opts.MarkLineOpts(
        data=[
            opts.MarkLineItem(type_="average", name="å¹³å‡å€¼")
        ]
    )
)

line.set_global_opts(title_opts={"text": "ä¸ŠåŠå¹´é”€å”®é¢"})

line.render("marked_line.html")
```

**æ ‡è®°è¯´æ˜**:
- **æ ‡è®°ç‚¹**: ç”¨åœ†ç‚¹æ ‡è®°ç‰¹æ®Šä½ç½®(æœ€å¤§å€¼ã€æœ€å°å€¼ã€è‡ªå®šä¹‰ç‚¹)
- **æ ‡è®°çº¿**: ç”¨ç›´çº¿æ ‡è®°ç‰¹æ®Šä½ç½®(å¹³å‡å€¼ã€è‡ªå®šä¹‰çº¿)

> #### å®è·µç»ƒä¹ 5:æ¸¸æˆç­‰çº§æå‡è®°å½•
>
> **ä»»åŠ¡**: å‡è®¾ä½ åœ¨ä¸€å‘¨å†…ç©æ¸¸æˆ,æ¯å¤©è®°å½•ç­‰çº§æå‡:
> - xè½´: å‘¨ä¸€åˆ°å‘¨æ—¥
> - yè½´: ç­‰çº§(å‡è®¾èµ·å§‹ç­‰çº§1,æ¯å¤©æå‡ä¸åŒ)
> - è¦æ±‚:æ ‡è®°æœ€å¤§æå‡çš„é‚£ä¸€å¤©,æ˜¾ç¤ºå¹³å‡ç­‰çº§
>
> **ç¤ºä¾‹æ•°æ®**:
> ```python
> levels = [1, 3, 5, 8, 10, 15, 18]
> gains = [0, 2, 2, 3, 2, 5, 3]  # æ¯å¤©æå‡çš„ç­‰çº§
> ```
>
> **ç­”æ¡ˆ**:
> <details>
> <summary>ç‚¹å‡»æŸ¥çœ‹å®Œæ•´ä»£ç </summary>
>
> ```python
> from pyecharts.charts import Line
> from pyecharts import options as opts
>
> levels = [1, 3, 5, 8, 10, 15, 18]
> days = ["å‘¨ä¸€", "å‘¨äºŒ", "å‘¨ä¸‰", "å‘¨å››", "å‘¨äº”", "å‘¨å…­", "å‘¨æ—¥"]
>
> line = Line()
>
> line.add_xaxis(days)
> line.add_yaxis(
>     "ç­‰çº§",
>     levels,
>     markpoint_opts=opts.MarkPointOpts(
>         data=[
>             opts.MarkPointItem(type_="max", name="æœ€é«˜ç­‰çº§"),
>             opts.MarkPointItem(type_="min", name="æœ€ä½ç­‰çº§")
> ]
>     ),
>     markline_opts=opts.MarkLineOpts(
>         data=[
>             opts.MarkLineItem(type_="average", name="å¹³å‡ç­‰çº§")
>         ]
>     )
> )
>
> line.set_global_opts(
>     title_opts={"text": "æ¸¸æˆç­‰çº§æå‡è®°å½•"},
>     yaxis_opts=opts.AxisOpts(name="ç­‰çº§"),
>     xaxis_opts=opts.AxisOpts(name="æ—¥æœŸ")
> )
>
> line.render("game_levels.html")
> ```
> </details>

---

## 15.5 é¥¼å›¾ - æ˜¾ç¤ºæ¯”ä¾‹å…³ç³»

### 15.5.1 é¥¼å›¾çš„åº”ç”¨åœºæ™¯

**é¥¼å›¾(Pie Chart)**ç”¨åœ†å½¢çš„æ‰‡å½¢å¤§å°è¡¨ç¤ºå„éƒ¨åˆ†å æ•´ä½“çš„æ¯”ä¾‹ã€‚

**é¥¼å›¾é€‚åˆç”¨æ¥**:
- **æ˜¾ç¤ºå æ¯”**: ç­çº§ç”·å¥³ç”Ÿæ¯”ä¾‹
- **åˆ†é…å…³ç³»**: é›¶èŠ±é’±çš„ç”¨é€”åˆ†é…
- **ç»„æˆç»“æ„**: å®¶åº­æ”¯å‡ºä¸­å„é¡¹è´¹ç”¨çš„å æ¯”

**ç”Ÿæ´»ä¸­çš„é¥¼å›¾ä¾‹å­**:
- é¢„ç®—åˆ†é…å›¾
- é€‰ä¸¾ç»“æœå æ¯”
- æ‰‹æœºå­˜å‚¨ç©ºé—´ä½¿ç”¨æƒ…å†µ

**é‡è¦**: é¥¼å›¾çš„æ•°æ®åŠ èµ·æ¥åº”è¯¥æ˜¯100%(æˆ–1),è¡¨ç¤ºä¸€ä¸ªæ•´ä½“ã€‚

### 15.5.2 åˆ›å»ºä¸€ä¸ªç®€å•çš„é¥¼å›¾

è®©æˆ‘ä»¬åˆ¶ä½œä¸€ä¸ªæ˜¾ç¤ºç­çº§è¿åŠ¨çˆ±å¥½çš„é¥¼å›¾:

```python
from pyecharts.charts import Pie

# æ•°æ®
sports = ["ç¯®çƒ", "è¶³çƒ", "ç¾½æ¯›çƒ", "ä¹’ä¹“çƒ", "è·‘æ­¥", "æ¸¸æ³³"]
counts = [15, 12, 8, 10, 6, 9]

# åˆ›å»ºé¥¼å›¾
pie = Pie()

# æ·»åŠ æ•°æ®
pie.add("", list(zip(sports, counts)))

# è®¾ç½®æ ‡é¢˜
pie.set_global_opts(title_opts={"text": "ç­çº§è¿åŠ¨å–œå¥½åˆ†å¸ƒ"})

# ç”Ÿæˆå›¾è¡¨
pie.render("sports_pie.html")
```

**ä»£ç è§£æ**:
- `list(zip(sports, counts))`å°†ä¸¤ä¸ªåˆ—è¡¨åˆå¹¶æˆ:`[("ç¯®çƒ", 15), ("è¶³çƒ", 12), ...]`
- é¥¼å›¾çš„`add()`æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç³»åˆ—åç§°(å¯ä»¥ä¸ºç©ºå­—ç¬¦ä¸²)

### 15.5.3 é¥¼å›¾çš„æ ·å¼è®¾ç½®

#### 1. æ˜¾ç¤ºç™¾åˆ†æ¯”å’Œæ ‡ç­¾

é»˜è®¤æƒ…å†µä¸‹,é¥¼å›¾ä¼šæ˜¾ç¤ºç±»åˆ«åç§°ã€‚æˆ‘ä»¬å¯ä»¥åŒæ—¶æ˜¾ç¤ºç™¾åˆ†æ¯”:

```python
from pyecharts.charts import Pie
from pyecharts import options as opts

sports = ["ç¯®çƒ", "è¶³çƒ", "ç¾½æ¯›çƒ", "ä¹’ä¹“çƒ", "è·‘æ­¥", "æ¸¸æ³³"]
counts = [15, 12, 8, 10, 6, 9]

pie = Pie()

pie.add(
    "",
    list(zip(sports, counts)),
    label_opts=opts.LabelOpts(formatter="{b}: {d}%")  # {b}=åç§°, {d}=ç™¾åˆ†æ¯”
)

pie.set_global_opts(title_opts={"text": "ç­çº§è¿åŠ¨å–œå¥½åˆ†å¸ƒ"})

pie.render("sports_pie_percent.html")
```

**formatterå‚æ•°è¯´æ˜**:
- `{a}`: ç³»åˆ—åç§°
- `{b}`: æ•°æ®é¡¹åç§°(å¦‚"ç¯®çƒ")
- `{c}`: æ•°å€¼(å¦‚15)
- `{d}`: ç™¾åˆ†æ¯”(å¦‚18.07%)

#### 2. ç¯å½¢é¥¼å›¾

ç¯å½¢é¥¼å›¾æ¯”æ™®é€šé¥¼å›¾æ›´ç¾è§‚,ä¸­é—´æ˜¯ç©ºå¿ƒçš„:

```python
from pyecharts.charts import Pie
from pyecharts import options as opts

sports = ["ç¯®çƒ", "è¶³çƒ", "ç¾½æ¯›çƒ", "ä¹’ä¹“çƒ", "è·‘æ­¥", "æ¸¸æ³³"]
counts = [15, 12, 8, 10, 6, 9]

pie = Pie()

pie.add(
    "",
    list(zip(sports, counts)),
    radius=["30%", "70%"]  # å†…åœ†åŠå¾„30%,å¤–åœ†åŠå¾„70%
)

pie.set_global_opts(title_opts={"text": "ç­çº§è¿åŠ¨å–œå¥½åˆ†å¸ƒ"})

pie.render("donut_pie.html")
```

**radiuså‚æ•°**:
- ç¬¬ä¸€ä¸ªå€¼: å†…åœ†åŠå¾„
- ç¬¬äºŒä¸ªå€¼: å¤–åœ†åŠå¾„
- ä¸¤ä¸ªå€¼è¶Šæ¥è¿‘,ç¯å½¢è¶Šç»†

> #### ç»™å®¶é•¿çš„å°è´´å£«
> - **ç™¾åˆ†æ¯”æ¦‚å¿µ**: é¥¼å›¾æ˜¯å¸®åŠ©å­©å­ç†è§£ç™¾åˆ†æ¯”çš„ç»ä½³å·¥å…·
> - **æ•°æ®å½’ä¸€åŒ–**: å¦‚æœæ•°æ®åŠ èµ·æ¥ä¸æ˜¯100%,pyechartsä¼šè‡ªåŠ¨è®¡ç®—ç™¾åˆ†æ¯”
> - **é¢œè‰²è¯†åˆ«**: æ•™å­©å­å¦‚ä½•ä»é¥¼å›¾çš„é¢œè‰²å’Œé¢ç§¯å¤§å°ç›´è§‚åœ°ç†è§£æ¯”ä¾‹
> - **ç¯å½¢ vs å®å¿ƒ**: ç¯å½¢é¥¼å›¾å¯ä»¥åœ¨ä¸­é—´æ˜¾ç¤ºæ€»æ•°æˆ–æ ‡é¢˜,æ›´ç¾è§‚

> #### å®è·µç»ƒä¹ 6:æˆ‘çš„é›¶èŠ±é’±èŠ±å“ªé‡Œäº†
>
> **ä»»åŠ¡**: åˆ¶ä½œä¸€ä¸ªé¥¼å›¾,æ˜¾ç¤ºä½ ä¸€ä¸ªæœˆé›¶èŠ±é’±çš„ä½¿ç”¨æƒ…å†µ:
> - ç±»åˆ«: é›¶é£Ÿã€æ–‡å…·ã€ç©å…·ã€æ¸¸æˆã€å…¶ä»–
> - æ•°æ®: è‡ªå·±è®¾å®šä¸€ä¸ªåˆç†çš„åˆ†é…(å¦‚: 30%, 20%, 15%, 25%, 10%)
> - è¦æ±‚:ä½¿ç”¨ç¯å½¢é¥¼å›¾,æ˜¾ç¤ºç™¾åˆ†æ¯”
>
> **ç¤ºä¾‹æ•°æ®**:
> ```python
> items = ["é›¶é£Ÿ", "æ–‡å…·", "ç©å…·", "æ¸¸æˆ", "å…¶ä»–"]
> money = [60, 40, 30, 50, 20]  # å•ä½:å…ƒ
> ```
>
> **ç­”æ¡ˆ**:
> <details>
> <summary>ç‚¹å‡»æŸ¥çœ‹å®Œæ•´ä»£ç </summary>
>
> ```python
> from pyecharts.charts import Pie
> from pyecharts import options as opts
>
> items = ["é›¶é£Ÿ", "æ–‡å…·", "ç©å…·", "æ¸¸æˆ", "å…¶ä»–"]
> money = [60, 40, 30, 50, 20]
>
> pie = Pie()
>
> pie.add(
>     "",
>     list(zip(items, money)),
>     radius=["35%", "65%"],  # ç¯å½¢
>     label_opts=opts.LabelOpts(formatter="{b}: {c}å…ƒ ({d}%)")
> )
>
> pie.set_global_opts(
>     title_opts={"text": "æˆ‘çš„é›¶èŠ±é’±ä½¿ç”¨æƒ…å†µ"},
>     legend_opts=opts.LegendOpts(orient="vertical", pos_left="left")
> )
>
> pie.render("allowance_spending.html")
> ```
> è¿è¡Œå,ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªæ¼‚äº®çš„ç¯å½¢é¥¼å›¾,æ¯ä¸ªéƒ¨åˆ†æ˜¾ç¤ºé‡‘é¢å’Œç™¾åˆ†æ¯”!
> </details>

### 15.5.4 é¥¼å›¾çš„Roseå›¾

Roseå›¾(ç«ç‘°å›¾)æ˜¯é¥¼å›¾çš„å˜ä½“,æ‰‡å½¢çš„åŠå¾„ä¸åŒ:

```python
from pyecharts.charts import Pie
from pyecharts import options as opts

sports = ["ç¯®çƒ", "è¶³çƒ", "ç¾½æ¯›çƒ", "ä¹’ä¹“çƒ", "è·‘æ­¥", "æ¸¸æ³³"]
counts = [15, 12, 8, 10, 6, 9]

pie = Pie()

pie.add(
    "",
    list(zip(sports, counts)),
    radius="60%",  # åŠå¾„
    rosetype="radius"  # è®¾ç½®ä¸ºç«ç‘°å›¾
)

pie.set_global_opts(title_opts={"text": "ç­çº§è¿åŠ¨å–œå¥½åˆ†å¸ƒ(Roseå›¾)"})

pie.render("rose_pie.html")
```

**Roseå›¾ç‰¹ç‚¹**:
- æ¯ä¸ªæ‰‡å½¢çš„åŠå¾„ä¸åŒ,æ•°æ®è¶Šå¤§,æ‰‡å½¢è¶Šå¤§
- é€‚åˆæ•°æ®å·®å¼‚è¾ƒå¤§çš„æƒ…å†µ
- è§†è§‰æ•ˆæœæ›´ä¸°å¯Œ

> #### ç»™å®¶é•¿çš„å°è´´å£«
> - **Roseå›¾ vs é¥¼å›¾**: Roseå›¾å¼ºè°ƒæ•°å€¼å·®å¼‚,é¥¼å›¾å¼ºè°ƒæ¯”ä¾‹å…³ç³»
> - **é€‰æ‹©å»ºè®®**: æ•°æ®å·®å¼‚å¤§æ—¶ç”¨Roseå›¾,æ•°æ®ç›¸è¿‘æ—¶ç”¨æ™®é€šé¥¼å›¾
> - **äº¤äº’åŠŸèƒ½**: ç‚¹å‡»æŸä¸ªæ‰‡å½¢,è¯¥æ‰‡å½¢ä¼šçªå‡ºæ˜¾ç¤º

### 15.5.5 é¥¼å›¾çš„åµŒå¥—

é¥¼å›¾å¯ä»¥åµŒå¥—,æ˜¾ç¤ºå¤šå±‚æ•°æ®:

```python
from pyecharts.charts import Pie
from pyecharts import options as opts

# å†…åœˆæ•°æ®
inner_data = [("ç”µå­äº§å“", 60), ("æœè£…", 30), ("é£Ÿå“", 50)]
# å¤–åœˆæ•°æ®(ç»†åˆ†)
outer_data = [
    ("æ‰‹æœº", 30), ("ç”µè„‘", 20), ("è€³æœº", 10),
    ("ç”·è£…", 15), ("å¥³è£…", 15),
    ("é›¶é£Ÿ", 25), ("é¥®æ–™", 15), ("æ°´æœ", 10)
]

pie = Pie()

# æ·»åŠ å†…åœˆ
pie.add(
    "",
    inner_data,
    radius=["0%", "35%"],  # ä»ä¸­å¿ƒåˆ°35%çš„åŒºåŸŸ
    label_opts=opts.LabelOpts(formatter="{b}: {d}%")
)

# æ·»åŠ å¤–åœˆ
pie.add(
    "",
    outer_data,
    radius=["45%", "70%"],  # ä»45%åˆ°70%çš„åŒºåŸŸ
    label_opts=opts.LabelOpts(formatter="{b}: {d}%")
)

pie.set_global_opts(title_opts={"text": "é”€å”®é¢åˆ†å¸ƒ(åµŒå¥—é¥¼å›¾)"})

pie.render("nested_pie.html")
```

**ä½¿ç”¨åœºæ™¯**: åµŒå¥—é¥¼å›¾é€‚åˆæ˜¾ç¤º"å¤§ç±»-å°ç±»"çš„å±‚çº§å…³ç³»,å¦‚"è¿åŠ¨-çƒç±»ã€è·‘æ­¥ã€æ¸¸æ³³"ã€‚

> #### å®è·µç»ƒä¹ 7:æˆ‘çš„æ—¶é—´åˆ†é…
>
> **ä»»åŠ¡**: åˆ¶ä½œä¸€ä¸ªåµŒå¥—é¥¼å›¾,æ˜¾ç¤ºä½ ä¸€å¤©çš„æ—¶é—´åˆ†é…:
>
> **å†…åœˆ(å¤§ç±»)**:
> - ç¡çœ : 9å°æ—¶
> - ä¸Šå­¦: 8å°æ—¶
> - ä½œä¸š: 3å°æ—¶
> - å¨±ä¹: 4å°æ—¶
>
> **å¤–åœˆ(å¨±ä¹ç»†åˆ†)**:
> - çœ‹ç”µè§†: 1.5å°æ—¶
> - ç©æ¸¸æˆ: 1å°æ—¶
> - è¿åŠ¨: 1å°æ—¶
> - å…¶ä»–: 0.5å°æ—¶
>
> **ç­”æ¡ˆ**:
> <details>
> <summary>ç‚¹å‡»æŸ¥çœ‹å®Œæ•´ä»£ç </summary>
>
> ```python
> from pyecharts.charts import Pie
> from pyecharts import options as opts
>
> # å†…åœˆ: å¤§ç±»
> inner_data = [
>     ("ç¡çœ ", 9), ("ä¸Šå­¦", 8), ("ä½œä¸š", 3), ("å¨±ä¹", 4)
> ]
>
> # å¤–åœˆ: å¨±ä¹ç»†åˆ†
> outer_data = [
>     ("çœ‹ç”µè§†", 1.5), ("ç©æ¸¸æˆ", 1), ("è¿åŠ¨", 1), ("å…¶ä»–", 0.5),
>     # è¡¥å……å…¶ä»–ç±»åˆ«çš„æ•°æ®(ä¸ºäº†å›¾å½¢å®Œæ•´)
>     ("ç¡çœ ç»†åˆ†", 9), ("ä¸Šå­¦ç»†åˆ†", 8), ("ä½œä¸šç»†åˆ†", 3)
> ]
>
> pie = Pie()
>
> pie.add(
>     "",
>     inner_data,
>     radius=["0%", "35%"],
>     label_opts=opts.LabelOpts(formatter="{b}: {c}å°æ—¶")
> )
>
> pie.add(
>     "",
>     outer_data,
>     radius=["45%", "70%"],
>     label_opts=opts.LabelOpts(formatter="{b}: {c}å°æ—¶")
> )
>
> pie.set_global_opts(title_opts={"text": "æˆ‘çš„ä¸€å¤©æ—¶é—´åˆ†é…"})
>
> pie.render("my_day_pie.html")
> ```
> **æç¤º**: è¿™ä¸ªä¾‹å­å±•ç¤ºäº†åµŒå¥—é¥¼å›¾çš„åº”ç”¨,ä½†å¤–åœˆæ•°æ®ä¸å®Œå…¨å¯¹ç§°,å®é™…æƒ…å†µä¸­å¯èƒ½éœ€è¦æ›´å®Œæ•´çš„æ•°æ®åˆ†ç±»ã€‚
> </details>

---

## 15.6 ç»¼åˆé¡¹ç›®:åˆ¶ä½œç­çº§æˆç»©åˆ†ææŠ¥å‘Š

ç°åœ¨æˆ‘ä»¬å·²ç»å­¦ä¼šäº†æŸ±çŠ¶å›¾ã€æŠ˜çº¿å›¾ã€é¥¼å›¾,è®©æˆ‘ä»¬åšä¸€ä¸ª**ç»¼åˆé¡¹ç›®**:ç­çº§æˆç»©åˆ†ææŠ¥å‘Šç³»ç»Ÿã€‚

è¿™ä¸ªé¡¹ç›®ä¼šç»¼åˆè¿ç”¨æˆ‘ä»¬å­¦åˆ°çš„æ‰€æœ‰çŸ¥è¯†!

### 15.6.1 é¡¹ç›®éœ€æ±‚

å‡è®¾ä½ æ˜¯ç­é•¿,è€å¸ˆç»™ä½ ä¸€ä»½ç­çº§æˆç»©æ•°æ®,ä½ éœ€è¦:
1. ç”¨**æŸ±çŠ¶å›¾**æ˜¾ç¤ºæ¯ä¸ªå­¦ç”Ÿçš„æ€»åˆ†æ’å
2. ç”¨**æŠ˜çº¿å›¾**æ˜¾ç¤ºç­çº§å¹³å‡åˆ†çš„å˜åŒ–è¶‹åŠ¿
3. ç”¨**é¥¼å›¾**æ˜¾ç¤ºå„åˆ†æ•°æ®µçš„äººæ•°åˆ†å¸ƒ
4. ç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„HTMLæŠ¥å‘Š

**åŸå§‹æ•°æ®**:

| å§“å | è¯­æ–‡ | æ•°å­¦ | è‹±è¯­ | ç‰©ç† | åŒ–å­¦ |
|-----|------|------|------|------|------|
| å°æ˜ | 85 | 92 | 78 | 88 | 90 |
| å°çº¢ | 90 | 88 | 95 | 92 | 94 |
| å°åˆš | 78 | 85 | 82 | 80 | 83 |
| å°ä¸½ | 92 | 95 | 88 | 90 | 91 |
| å°å | 88 | 90 | 91 | 85 | 89 |
| å°å¼º | 80 | 82 | 85 | 78 | 80 |
| å°èŠ³ | 95 | 90 | 92 | 95 | 93 |

### 15.6.2 é¡¹ç›®å®ç°

è®©æˆ‘ä»¬ä¸€æ­¥æ­¥å®Œæˆè¿™ä¸ªé¡¹ç›®:

#### æ­¥éª¤1: å‡†å¤‡æ•°æ®

```python
# å­¦ç”Ÿå§“å
students = ["å°æ˜", "å°çº¢", "å°åˆš", "å°ä¸½", "å°å", "å°å¼º", "å°èŠ³"]

# å„ç§‘æˆç»©
chinese = [85, 90, 78, 92, 88, 80, 95]
math = [92, 88, 85, 95, 90, 82, 90]
english = [78, 95, 82, 88, 91, 85, 92]
physics = [88, 92, 80, 90, 85, 78, 95]
chemistry = [90, 94, 83, 91, 89, 80, 93]

# è®¡ç®—æ€»åˆ†
total_scores = []
for i in range(len(students)):
    total = chinese[i] + math[i] + english[i] + physics[i] + chemistry[i]
    total_scores.append(total)

print("æ€»åˆ†:", total_scores)
```

**è¿è¡Œç»“æœ**:
```
æ€»åˆ†: [433, 459, 408, 456, 443, 405, 465]
```

#### æ­¥éª¤2: æŸ±çŠ¶å›¾ - æ€»åˆ†æ’å

```python
from pyecharts.charts import Bar
from pyecharts import options as opts

# åˆ›å»ºæŸ±çŠ¶å›¾
bar = Bar()

# æ·»åŠ æ•°æ®
bar.add_xaxis(students)
bar.add_yaxis(
    "æ€»åˆ†",
    total_scores,
    label_opts=opts.LabelOpts(is_show=True)  # æ˜¾ç¤ºæ•°å€¼
)

# è®¾ç½®å…¨å±€é€‰é¡¹
bar.set_global_opts(
    title_opts={"text": "ç­çº§æ€»åˆ†æ’å"},
    yaxis_opts=opts.AxisOpts(name="åˆ†æ•°"),
    xaxis_opts=opts.AxisOpts(name="å­¦ç”Ÿ"),
    toolbox_opts=opts.ToolboxOpts(is_show=True)  # æ˜¾ç¤ºå·¥å…·æ 
)

# ç”Ÿæˆå›¾è¡¨
bar.render("class_ranking.html")
```

#### æ­¥éª¤3: æŠ˜çº¿å›¾ - ç§‘ç›®å¹³å‡åˆ†

```python
from pyecharts.charts import Line

# è®¡ç®—å„ç§‘å¹³å‡åˆ†
chinese_avg = sum(chinese) // len(chinese)
math_avg = sum(math) // len(math)
english_avg = sum(english) // len(english)
physics_avg = sum(physics) // len(physics)
chemistry_avg = sum(chemistry) // len(chemistry)

subjects = ["è¯­æ–‡", "æ•°å­¦", "è‹±è¯­", "ç‰©ç†", "åŒ–å­¦"]
avg_scores = [chinese_avg, math_avg, english_avg, physics_avg, chemistry_avg]

# åˆ›å»ºæŠ˜çº¿å›¾
line = Line()

line.add_xaxis(subjects)
line.add_yaxis(
    "å¹³å‡åˆ†",
    avg_scores,
    markpoint_opts=opts.MarkPointOpts(
        data=[
            opts.MarkPointItem(type_="max", name="æœ€é«˜åˆ†"),
            opts.MarkPointItem(type_="min", name="æœ€ä½åˆ†")
        ]
    )
)

line.set_global_opts(
    title_opts={"text": "å„ç§‘ç›®å¹³å‡åˆ†"},
    yaxis_opts=opts.AxisOpts(name="åˆ†æ•°"),
    xaxis_opts=opts.AxisOpts(name="ç§‘ç›®")
)

line.render("subject_averages.html")
```

#### æ­¥éª¤4: é¥¼å›¾ - åˆ†æ•°æ®µåˆ†å¸ƒ

```python
from pyecharts.charts import Pie

# ç»Ÿè®¡åˆ†æ•°æ®µ
ranges = ["ä¼˜ç§€(90åˆ†ä»¥ä¸Š)", "è‰¯å¥½(80-89)", "åŠæ ¼(60-79)", "ä¸åŠæ ¼(60åˆ†ä»¥ä¸‹)"]
counts = [0, 0, 0, 0]

# ç»Ÿè®¡æ€»åˆ†æ®µ
for score in total_scores:
    avg = score / 5  # è®¡ç®—å¹³å‡åˆ†
    if avg >= 90:
        counts[0] += 1
    elif avg >= 80:
        counts[1] += 1
    elif avg >= 60:
        counts[2] += 1
    else:
        counts[3] += 1

print("åˆ†æ•°æ®µåˆ†å¸ƒ:", counts)

# åˆ›å»ºé¥¼å›¾
pie = Pie()

pie.add(
    "",
    list(zip(ranges, counts)),
    radius=["30%", "60%"],
    label_opts=opts.LabelOpts(formatter="{b}: {c}äºº ({d}%)")
)

pie.set_global_opts(title_opts={"text": "ç­çº§æˆç»©åˆ†å¸ƒ"})

pie.render("score_distribution.html")
```

**è¿è¡Œç»“æœ**:
```
åˆ†æ•°æ®µåˆ†å¸ƒ: [3, 3, 1, 0]  # ä¼˜ç§€3äºº,è‰¯å¥½3äºº,åŠæ ¼1äºº,ä¸åŠæ ¼0äºº
```

#### æ­¥éª¤5: ç»„åˆæ‰€æœ‰å›¾è¡¨

pyechartsæä¾›äº†ä¸€ä¸ª**Page**ç±»,å¯ä»¥æŠŠå¤šä¸ªå›¾è¡¨ç»„åˆåœ¨ä¸€ä¸ªHTMLé¡µé¢:

```python
from pyecharts.charts import Bar, Line, Pie
from pyecharts import options as opts
from pyecharts.commons.utils import JsCode

# æ•°æ®å‡†å¤‡(çœç•¥,å‚è€ƒä¸Šé¢çš„ä»£ç )

# åˆ›å»ºä¸‰ä¸ªå›¾è¡¨(ä»£ç çœç•¥)
bar = Bar()
# ... æ·»åŠ æ•°æ®å’Œé€‰é¡¹

line = Line()
# ... æ·»åŠ æ•°æ®å’Œé€‰é¡¹

pie = Pie()
# ... æ·»åŠ æ•°æ®å’Œé€‰é¡¹

# ç»„åˆå›¾è¡¨
from pyecharts.charts import Page

page = Page(layout=Page.SimplePageLayout)

page.add(
    bar,
    line,
    pie
)

page.render("class_report.html")
```

**è¿è¡Œç»“æœ**: æ‰“å¼€`class_report.html`,ä½ ä¼šçœ‹åˆ°ä¸‰ä¸ªå›¾è¡¨ä»ä¸Šåˆ°ä¸‹æ’åˆ—åœ¨ä¸€ä¸ªé¡µé¢ä¸­,å½¢æˆä¸€ä¸ªå®Œæ•´çš„æˆç»©åˆ†ææŠ¥å‘Š!

> #### ç»™å®¶é•¿çš„å°è´´å£«
> - **é¡¹ç›®å¼å­¦ä¹ **: è¿™ä¸ªç»¼åˆé¡¹ç›®èƒ½åŸ¹å…»å­©å­çš„æ•´ä½“æ€ç»´å’Œé—®é¢˜è§£å†³èƒ½åŠ›
> - **æ•°æ®æ”¶é›†**: é¼“åŠ±å­©å­ç”¨çœŸå®æ•°æ®(å¦‚è‡ªå·±ç­çº§çš„æˆç»©)æ›¿æ¢ç¤ºä¾‹æ•°æ®
> - **åˆ†æèƒ½åŠ›**: è®©å­©å­æ ¹æ®å›¾è¡¨åˆ†æç­çº§æƒ…å†µ(å¦‚:å“ªç§‘æœ€éš¾,è°è¿›æ­¥æœ€å¤§)
> - **é€æ­¥å®Œæˆ**: å¼ºè°ƒåˆ†æ­¥éª¤å®Œæˆ,ä¸è¦è¯•å›¾ä¸€æ¬¡å†™å®Œæ‰€æœ‰ä»£ç 
> - **è°ƒè¯•æŠ€å·§**: å¦‚æœæŸä¸ªå›¾è¡¨æœ‰é—®é¢˜,å•ç‹¬è¿è¡Œå®ƒçš„ä»£ç ,æ‰¾å‡ºé”™è¯¯

> #### ç»¼åˆç»ƒä¹ 8:å®Œæ•´çš„æ•°æ®åˆ†ææŠ¥å‘Š
>
> **ä»»åŠ¡**: é€‰æ‹©ä¸€ä¸ªä½ æ„Ÿå…´è¶£çš„ä¸»é¢˜,åˆ¶ä½œä¸€ä¸ªå®Œæ•´çš„æ•°æ®åˆ†ææŠ¥å‘Š:
>
> **ä¸»é¢˜å»ºè®®**:
> 1. **è¿åŠ¨æ•°æ®åˆ†æ**: ç­çº§åŒå­¦æœ€å–œæ¬¢çš„è¿åŠ¨ç±»å‹
> 2. **æ¸¸æˆæ•°æ®åˆ†æ**: ä½ å’Œæœ‹å‹çš„æ¸¸æˆç­‰çº§ã€èƒœç‡ã€åœºæ¬¡å¯¹æ¯”
> 3. **é›¶èŠ±é’±åˆ†æ**: ä¸€ä¸ªæœˆçš„é›¶èŠ±é’±æ¥æºå’Œç”¨é€”
> 4. **é˜…è¯»åˆ†æ**: è¿™å­¦æœŸè¯»äº†å¤šå°‘æœ¬ä¹¦,å„ç±»ä¹¦çš„æ¯”ä¾‹
> 5. **è‡ªå®šä¹‰ä¸»é¢˜**: å…¶ä»–ä½ æ„Ÿå…´è¶£çš„æ•°æ®
>
> **è¦æ±‚**:
> 1. è‡³å°‘åŒ…å«3ç§å›¾è¡¨(æŸ±çŠ¶å›¾ã€æŠ˜çº¿å›¾ã€é¥¼å›¾)
> 2. æ¯ä¸ªå›¾è¡¨éƒ½è¦æœ‰æ ‡é¢˜å’Œåæ ‡è½´è¯´æ˜
> 3. ç”¨Pageç»„åˆæ‰€æœ‰å›¾è¡¨
> 4. æ ¹æ®å›¾è¡¨å†™å‡º3æ¡åˆ†æç»“è®º
>
> **ç¤ºä¾‹ä»£ç æ¡†æ¶**:
> <details>
> <summary>ç‚¹å‡»æŸ¥çœ‹ä»£ç æ¡†æ¶</summary>
>
> ```python
> from pyecharts.charts import Bar, Line, Pie
> from pyecharts.charts import Page
> from pyecharts import options as opts
>
> # æ­¥éª¤1: å‡†å¤‡æ•°æ®
> # TODO: å¡«å†™ä½ çš„æ•°æ®
>
> # æ­¥éª¤2: åˆ›å»ºæŸ±çŠ¶å›¾
> bar = Bar()
> # TODO: æ·»åŠ æ•°æ®å’Œé€‰é¡¹
>
> # æ­¥éª¤3: åˆ›å»ºæŠ˜çº¿å›¾
> line = Line()
> # TODO: æ·»åŠ æ•°æ®å’Œé€‰é¡¹
>
> # æ­¥éª¤4: åˆ›å»ºé¥¼å›¾
> pie = Pie()
> # TODO: æ·»åŠ æ•°æ®å’Œé€‰é¡¹
>
> # æ­¥éª¤5: ç»„åˆæ‰€æœ‰å›¾è¡¨
> page = Page()
> page.add(bar, line, pie)
> page.render("my_report.html")
>
> print("æŠ¥å‘Šå·²ç”Ÿæˆ!")
> ```
> </details>

---

## 15.7 è¿›é˜¶æŠ€å·§:è®©å›¾è¡¨æ›´ç¾è§‚

### 15.7.1 ä½¿ç”¨ä¸»é¢˜

pyechartsæä¾›äº†å¤šç§é¢„è®¾ä¸»é¢˜,å¯ä»¥å¿«é€Ÿæ”¹å˜å›¾è¡¨çš„é…è‰²:

```python
from pyecharts.charts import Bar
from pyecharts import options as opts
from pyecharts.globals import ThemeType

# ä½¿ç”¨DARKä¸»é¢˜
bar = Bar(init_opts=opts.InitOpts(theme=ThemeType.DARK))

bar.add_xaxis(["è‹¹æœ", "é¦™è•‰", "æ©™å­", "è‰è“", "è‘¡è„"])
bar.add_yaxis("ä»·æ ¼", [8, 3, 6, 15, 12])

bar.set_global_opts(title_opts={"text": "æ°´æœä»·æ ¼è¡¨"})

bar.render("themed_chart.html")
```

**å¯ç”¨ä¸»é¢˜**:
- `ThemeType.LIGHT`: æµ…è‰²ä¸»é¢˜(é»˜è®¤)
- `ThemeType.DARK`: æ·±è‰²ä¸»é¢˜
- `ThemeType.ROMA`: ç½—é©¬ä¸»é¢˜
- `ThemeType.SHINE`: é—ªäº®ä¸»é¢˜
- `ThemeType.VINTAGE`: å¤å¤ä¸»é¢˜

### 15.7.2 è‡ªå®šä¹‰é¢œè‰²

å¦‚æœä½ æƒ³è‡ªå®šä¹‰å›¾è¡¨çš„é¢œè‰²,å¯ä»¥ä½¿ç”¨é¢œè‰²åˆ—è¡¨:

```python
from pyecharts.charts import Pie
from pyecharts import options as opts

items = ["ç¯®çƒ", "è¶³çƒ", "ç¾½æ¯›çƒ", "ä¹’ä¹“çƒ", "è·‘æ­¥", "æ¸¸æ³³"]
counts = [15, 12, 8, 10, 6, 9]

pie = Pie()

pie.add(
    "",
    list(zip(items, counts)),
    # è‡ªå®šä¹‰é¢œè‰²
    color=["#FF6B6B", "#4ECDC4", "#45B7D1", "#FFA07A", "#98D8C8", "#F7DC6F"]
)

pie.set_global_opts(title_opts={"text": "ç­çº§è¿åŠ¨å–œå¥½"})

pie.render("custom_colors.html")
```

**é¢œè‰²ä»£ç è¯´æ˜**:
- ä½¿ç”¨åå…­è¿›åˆ¶é¢œè‰²ç (å¦‚`#FF6B6B`)
- å¯ä»¥åœ¨çº¿æœç´¢"hex color picker"é€‰æ‹©é¢œè‰²
- é¢œè‰²åˆ—è¡¨é•¿åº¦åº”è¯¥ä¸æ•°æ®é¡¹æ•°é‡ä¸€è‡´

### 15.7.3 æ·»åŠ æç¤ºæ¡†å’Œå·¥å…·æ 

```python
from pyecharts.charts import Bar
from pyecharts import options as opts

bar = Bar()

bar.add_xaxis(["ç¬¬ä¸€å­£åº¦", "ç¬¬äºŒå­£åº¦", "ç¬¬ä¸‰å­£åº¦", "ç¬¬å››å­£åº¦"])
bar.add_yaxis("é”€å”®é¢", [120, 200, 150, 180])

bar.set_global_opts(
    # æç¤ºæ¡†é…ç½®
    tooltip_opts=opts.TooltipOpts(
        trigger="axis",  # åæ ‡è½´è§¦å‘
        axis_pointer_type="shadow"  # é˜´å½±æŒ‡ç¤ºå™¨
    ),
    # å·¥å…·æ é…ç½®
    toolbox_opts=opts.ToolboxOpts(
        is_show=True,
        feature={
            "saveAsImage": {},  # ä¿å­˜ä¸ºå›¾ç‰‡
            "dataView": {},     # æ•°æ®è§†å›¾
            "restore": {}        # è¿˜åŸ
        }
    ),
    # åŒºåŸŸç¼©æ”¾
    datazoom_opts=opts.DataZoomOpts(is_show=True)
)

bar.render("advanced_features.html")
```

**åŠŸèƒ½è¯´æ˜**:
- **æç¤ºæ¡†**: é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
- **å·¥å…·æ **: å³ä¸Šè§’æ˜¾ç¤ºä¿å­˜ã€æ•°æ®è§†å›¾ç­‰å·¥å…·
- **åŒºåŸŸç¼©æ”¾**: å¯ä»¥ç¼©æ”¾æŸ¥çœ‹éƒ¨åˆ†æ•°æ®

> #### ç»™å®¶é•¿çš„å°è´´å£«
> - **é¢œè‰²æ­é…**: æ•™å­©å­åŸºæœ¬çš„é…è‰²åŸåˆ™(å¯¹æ¯”è‰²ã€åŒç±»è‰²)
> - **ä¸»é¢˜é€‰æ‹©**: ä¸åŒä¸»é¢˜é€‚åˆä¸åŒåœºåˆ(å¦‚DARKé€‚åˆå¤œé—´æŸ¥çœ‹)
> - **åŠŸèƒ½å åŠ **: ä¸è¦ä¸€æ¬¡æ·»åŠ å¤ªå¤šåŠŸèƒ½,ä¼šå½±å“å›¾è¡¨çš„å¯è¯»æ€§
> - **å®¡ç¾åŸ¹å…»**: é¼“åŠ±å­©å­å°è¯•ä¸åŒçš„é…è‰²,åŸ¹å…»å®¡ç¾èƒ½åŠ›

---

## 15.8 å¸¸è§é”™è¯¯å’Œè°ƒè¯•

### 15.8.1 æ•°æ®ç±»å‹é”™è¯¯

**é”™è¯¯ä»£ç **:
```python
from pyecharts.charts import Bar

bar = Bar()
bar.add_xaxis("è‹¹æœ")  # é”™è¯¯:åº”è¯¥æ˜¯åˆ—è¡¨
bar.add_yaxis("ä»·æ ¼", 8)  # é”™è¯¯:åº”è¯¥æ˜¯åˆ—è¡¨
```

**é”™è¯¯ä¿¡æ¯**:
```
TypeError: Input x_axis data must be list
```

**æ­£ç¡®ä»£ç **:
```python
bar.add_xaxis(["è‹¹æœ"])  # ä½¿ç”¨åˆ—è¡¨
bar.add_yaxis("ä»·æ ¼", [8])  # ä½¿ç”¨åˆ—è¡¨
```

> #### ç»™å®¶é•¿çš„å°è´´å£«
> - **åˆ—è¡¨ vs å•ä¸ªå€¼**: pyechartséœ€è¦åˆ—è¡¨,å³ä½¿åªæœ‰ä¸€ä¸ªæ•°æ®ä¹Ÿè¦ç”¨`[8]`
> - **ä»”ç»†é˜…è¯»é”™è¯¯ä¿¡æ¯**: é”™è¯¯ä¿¡æ¯ä¼šæ˜ç¡®å‘Šè¯‰ä½ æ˜¯å“ªä¸ªå‚æ•°æœ‰é—®é¢˜

### 15.8.2 æ•°æ®é•¿åº¦ä¸ä¸€è‡´

**é”™è¯¯ä»£ç **:
```python
bar.add_xaxis(["è‹¹æœ", "é¦™è•‰", "æ©™å­"])
bar.add_yaxis("ä»·æ ¼", [8, 3])  # åªæœ‰2ä¸ªæ•°æ®,å°‘äº†1ä¸ª
```

**é”™è¯¯ä¿¡æ¯**:
```
AssertionError: x_axis data and y_axis data must be same length
```

**è§£å†³æ–¹æ³•**: ç¡®ä¿xè½´å’Œyè½´çš„æ•°æ®æ•°é‡ä¸€è‡´:

```python
bar.add_xaxis(["è‹¹æœ", "é¦™è•‰", "æ©™å­"])
bar.add_yaxis("ä»·æ ¼", [8, 3, 6])  # 3ä¸ªæ•°æ®
```

### 15.8.3 æ–‡ä»¶è·¯å¾„é”™è¯¯

**é”™è¯¯ä»£ç **:
```python
bar.render("C:\Users\ç”¨æˆ·å\æ¡Œé¢\chart.html")
```

**é”™è¯¯ä¿¡æ¯**:
```
SyntaxError: (unicode error) 'unicodeescape' codec can't decode bytes
```

**åŸå› **: Pythonä¸­`\`æ˜¯è½¬ä¹‰å­—ç¬¦,`\U`ä¼šè¢«è®¤ä¸ºæ˜¯Unicodeè½¬ä¹‰ã€‚

**è§£å†³æ–¹æ³•1**: ä½¿ç”¨åŸå§‹å­—ç¬¦ä¸²
```python
bar.render(r"C:\Users\ç”¨æˆ·å\æ¡Œé¢\chart.html")  # æ³¨æ„rå‰ç¼€
```

**è§£å†³æ–¹æ³•2**: ä½¿ç”¨æ­£æ–œæ 
```python
bar.render("C:/Users/ç”¨æˆ·å/æ¡Œé¢/chart.html")  # ä½¿ç”¨/
```

**è§£å†³æ–¹æ³•3**: åªå†™æ–‡ä»¶å(æ¨è)
```python
bar.render("chart.html")  # ä¿å­˜åˆ°å½“å‰ç›®å½•
```

> #### ç»™å®¶é•¿çš„å°è´´å£«
> - **è·¯å¾„é—®é¢˜**: å°å­¦ç”Ÿå¯èƒ½ä¸ç†è§£æ–‡ä»¶è·¯å¾„,å»ºè®®è®©ä»–ä»¬åªå†™æ–‡ä»¶å
> - **æ–‡ä»¶æŸ¥æ‰¾**: ç”Ÿæˆçš„HTMLæ–‡ä»¶åœ¨å½“å‰å·¥ä½œç›®å½•,å¯ä»¥è®©å­©å­ç”¨æ–‡ä»¶ç®¡ç†å™¨æœç´¢
> - **æ¡Œé¢å¿«æ·æ–¹å¼**: åœ¨æ¡Œé¢ä¸Šåˆ›å»ºä¸€ä¸ª"æˆ‘çš„å›¾è¡¨"æ–‡ä»¶å¤¹,æ–¹ä¾¿æŸ¥æ‰¾

### 15.8.4 HTMLæ–‡ä»¶æ‰“ä¸å¼€æˆ–ç©ºç™½

**é—®é¢˜1: HTMLæ–‡ä»¶æ‰“å¼€åæ˜¯ç©ºç™½é¡µ**

**åŸå› **: ä»£ç è¿è¡Œæ—¶å‡ºç°é”™è¯¯,ä½†æ²¡æœ‰ç”Ÿæˆå®Œæ•´çš„HTMLæ–‡ä»¶ã€‚

**è§£å†³æ–¹æ³•**: åœ¨Pythonä¸­è¿è¡Œä»£ç æ—¶,æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯æç¤ºã€‚å¸¸è§çš„é”™è¯¯:
- æ‹¼å†™é”™è¯¯:`add_xasis`åº”è¯¥æ˜¯`add_xaxis`
- ç¼ºå°‘æ‹¬å·æˆ–å¼•å·
- å˜é‡åæœªå®šä¹‰

**é—®é¢˜2: æµè§ˆå™¨æ‰“ä¸å¼€HTMLæ–‡ä»¶**

**åŸå› **: æµè§ˆå™¨å¤ªè€,ä¸æ”¯æŒæŸäº›ç‰¹æ€§ã€‚

**è§£å†³æ–¹æ³•**: æ›´æ–°æµè§ˆå™¨æˆ–ä½¿ç”¨Chromeã€Edgeã€Firefoxç­‰ç°ä»£æµè§ˆå™¨ã€‚

### 15.8.5 è°ƒè¯•æŠ€å·§

#### æŠ€å·§1: é€æ­¥éªŒè¯

ä¸è¦ä¸€æ¬¡å†™å®Œæ‰€æœ‰ä»£ç ,è€Œæ˜¯åˆ†æ­¥æµ‹è¯•:

```python
# æ­¥éª¤1: æµ‹è¯•æ•°æ®
print("xè½´:", ["è‹¹æœ", "é¦™è•‰"])
print("yè½´:", [8, 3])

# æ­¥éª¤2: æµ‹è¯•å›¾è¡¨åˆ›å»º
bar = Bar()
print("å›¾è¡¨åˆ›å»ºæˆåŠŸ")

# æ­¥éª¤3: æµ‹è¯•æ·»åŠ æ•°æ®
bar.add_xaxis(["è‹¹æœ", "é¦™è•‰"])
bar.add_yaxis("ä»·æ ¼", [8, 3])
print("æ•°æ®æ·»åŠ æˆåŠŸ")

# æ­¥éª¤4: æµ‹è¯•æ¸²æŸ“
bar.render("test.html")
print("æ¸²æŸ“å®Œæˆ")
```

#### æŠ€å·§2: ç®€åŒ–æ•°æ®

å¦‚æœæ•°æ®å¾ˆå¤æ‚,å…ˆç”¨ç®€å•æ•°æ®æµ‹è¯•:

```python
# å¤æ‚æ•°æ®å¯èƒ½æœ‰1000æ¡
# x_data = [...]  # 1000æ¡
# y_data = [...]  # 1000æ¡

# å…ˆç”¨3æ¡æ•°æ®æµ‹è¯•
x_data = ["A", "B", "C"]
y_data = [1, 2, 3]

bar = Bar()
bar.add_xaxis(x_data)
bar.add_yaxis("æµ‹è¯•", y_data)
bar.render("simple_test.html")
```

#### æŠ€å·§3: æŸ¥çœ‹HTMLæºä»£ç 

å¦‚æœå›¾è¡¨æ˜¾ç¤ºä¸æ­£å¸¸,ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€HTMLæ–‡ä»¶,æœç´¢`"code"`:

```html
<script>
  var chart = echarts.init(...);
  var option = {
    "title": {...},
    "tooltip": {...},
    ...
  };
  chart.setOption(option);
</script>
```

æŸ¥çœ‹æ˜¯å¦æœ‰`"error"`æˆ–`"undefined"`ç­‰å¼‚å¸¸ä¿¡æ¯ã€‚

> #### ç»™å®¶é•¿çš„å°è´´å£«
> - **è°ƒè¯•æ€ç»´**: æ•™å­©å­"åˆ†è€Œæ²»ä¹‹"çš„è°ƒè¯•æ–¹æ³•,æŠŠå¤§é—®é¢˜æ‹†æˆå°é—®é¢˜
> - **é”™è¯¯æ˜¯æœ‹å‹**: å¼ºè°ƒé”™è¯¯ä¿¡æ¯æ˜¯å¸®åŠ©æˆ‘ä»¬è§£å†³é—®é¢˜çš„çº¿ç´¢
> - **ä¿å­˜ä¸­é—´ç‰ˆæœ¬**: é¼“åŠ±å­©å­å®šæœŸä¿å­˜ä»£ç çš„å¤‡ä»½,å‡ºé”™æ—¶å¯ä»¥å›é€€

---

## 15.9 æœ¬ç« å°ç»“

### 15.9.1 æ ¸å¿ƒçŸ¥è¯†ç‚¹å›é¡¾

#### 1. æ•°æ®å¯è§†åŒ–çš„é‡è¦æ€§
- æŠŠæŠ½è±¡çš„æ•°å­—å˜æˆç›´è§‚çš„å›¾å½¢
- è®©æ•°æ®æ›´å®¹æ˜“ç†è§£å’Œåˆ†æ
- å¸®åŠ©å‘ç°æ•°æ®èƒŒåçš„è§„å¾‹

#### 2. pyechartsåº“çš„ä½¿ç”¨æµç¨‹
```
å®‰è£…: pip install pyecharts
  â†“
å¯¼å…¥: from pyecharts.charts import Bar
  â†“
åˆ›å»º: bar = Bar()
  â†“
æ•°æ®: bar.add_xaxis() / bar.add_yaxis()
  â†“
é€‰é¡¹: bar.set_global_opts()
  â†“
æ¸²æŸ“: bar.render("file.html")
```

#### 3. ä¸‰ç§å¸¸è§å›¾è¡¨

| å›¾è¡¨ç±»å‹ | ç”¨é€” | é€‚åˆåœºæ™¯ |
|---------|------|----------|
| **æŸ±çŠ¶å›¾** | æ¯”è¾ƒä¸åŒç±»åˆ« | æ’åã€å¯¹æ¯”ã€ç»Ÿè®¡ |
| **æŠ˜çº¿å›¾** | æ˜¾ç¤ºå˜åŒ–è¶‹åŠ¿ | æˆç»©è¿›æ­¥ã€æ°”æ¸©å˜åŒ–ã€è‚¡ç¥¨èµ°åŠ¿ |
| **é¥¼å›¾** | æ˜¾ç¤ºæ¯”ä¾‹å…³ç³» | è´¹ç”¨åˆ†é…ã€åå¥½åˆ†å¸ƒã€æˆåˆ†æ„æˆ |

#### 4. å›¾è¡¨çš„é…ç½®é€‰é¡¹
- **æ ‡é¢˜**: title_opts
- **åæ ‡è½´**: xaxis_opts / yaxis_opts
- **æ ‡ç­¾**: label_opts
- **å›¾ä¾‹**: legend_opts
- **å·¥å…·æ **: toolbox_opts
- **æç¤ºæ¡†**: tooltip_opts

#### 5. é«˜çº§åŠŸèƒ½
- **å¤šç³»åˆ—**: åœ¨ä¸€ä¸ªå›¾è¡¨ä¸Šæ˜¾ç¤ºå¤šç»„æ•°æ®
- **å †å **: å †å æŸ±çŠ¶å›¾æ˜¾ç¤ºéƒ¨åˆ†ä¸æ•´ä½“
- **åµŒå¥—**: åµŒå¥—é¥¼å›¾æ˜¾ç¤ºå±‚çº§å…³ç³»
- **ç»„åˆ**: ç”¨Pageç»„åˆå¤šä¸ªå›¾è¡¨

### 15.9.2 èƒ½åŠ›æ£€æŸ¥è¡¨

è¯·å­©å­è‡ªæˆ‘æ£€æŸ¥ä»¥ä¸‹æŠ€èƒ½æ˜¯å¦æŒæ¡:

- [ ] èƒ½ç‹¬ç«‹å®‰è£…pyechartsåº“
- [ ] èƒ½åˆ›å»ºå¹¶ä¿å­˜ä¸€ä¸ªç®€å•çš„æŸ±çŠ¶å›¾
- [ ] èƒ½åˆ›å»ºå¹¶ä¿å­˜ä¸€ä¸ªç®€å•çš„æŠ˜çº¿å›¾
- [ ] èƒ½åˆ›å»ºå¹¶ä¿å­˜ä¸€ä¸ªç®€å•çš„é¥¼å›¾
- [ ] èƒ½ä¸ºå›¾è¡¨æ·»åŠ æ ‡é¢˜å’Œåæ ‡è½´è¯´æ˜
- [ ] èƒ½åœ¨ä¸€ä¸ªå›¾è¡¨ä¸Šæ˜¾ç¤ºå¤šç»„æ•°æ®
- [ ] èƒ½ä½¿ç”¨Pageç»„åˆå¤šä¸ªå›¾è¡¨
- [ ] èƒ½è¯»æ‡‚ç®€å•çš„é”™è¯¯ä¿¡æ¯å¹¶è°ƒè¯•
- [ ] èƒ½ç‹¬ç«‹å®Œæˆä¸€ä¸ªæ•°æ®åˆ†æå°é¡¹ç›®

### 15.9.3 å¸¸è§é—®é¢˜å¿«é€Ÿå‚è€ƒ

| é—®é¢˜ | è§£å†³æ–¹æ³• |
|------|----------|
| å®‰è£…å¤±è´¥ | ä½¿ç”¨å›½å†…é•œåƒæº:`pip install pyecharts -i https://pypi.tuna.tsinghua.edu.cn/simple` |
| ä¸­æ–‡ä¹±ç  | åœ¨æ–‡ä»¶ç¬¬ä¸€è¡Œæ·»åŠ `# -*- coding: utf-8 -*-` |
| æ•°æ®é•¿åº¦ä¸ä¸€è‡´ | æ£€æŸ¥xè½´å’Œyè½´çš„æ•°æ®æ•°é‡æ˜¯å¦ç›¸åŒ |
| HTMLæ–‡ä»¶æ‰¾ä¸åˆ° | åªå†™æ–‡ä»¶å(å¦‚`chart.html`),ä¿å­˜åˆ°å½“å‰ç›®å½• |
| å›¾è¡¨ç©ºç™½ | æ£€æŸ¥æµè§ˆå™¨,ä½¿ç”¨Chromeæˆ–Edgeç­‰ç°ä»£æµè§ˆå™¨ |

---

## 15.10 æŒ‘æˆ˜ç»ƒä¹ 

### æŒ‘æˆ˜1: å¤©æ°”æ•°æ®åˆ†æ

**ä»»åŠ¡**: ä»ç½‘ä¸ŠæŸ¥æ‰¾ä½ æ‰€åœ¨åŸå¸‚æœ€è¿‘ä¸€å‘¨çš„å¤©æ°”æ•°æ®(æœ€é«˜æ°”æ¸©ã€æœ€ä½æ°”æ¸©ã€å¤©æ°”çŠ¶å†µ),åˆ¶ä½œ:
1. æŠ˜çº¿å›¾:æ˜¾ç¤ºæ°”æ¸©å˜åŒ–
2. é¥¼å›¾:æ˜¾ç¤ºä¸åŒå¤©æ°”çŠ¶å†µçš„æ¯”ä¾‹(å¦‚:æ™´å¤©3å¤©,é˜´å¤©2å¤©,é›¨å¤©2å¤©)

**è¦æ±‚**:
- ä½¿ç”¨çœŸå®æ•°æ®
- å›¾è¡¨æœ‰æ ‡é¢˜å’Œè¯´æ˜
- æ·»åŠ æ•°æ®æ ‡è®°ç‚¹(æœ€é«˜æ¸©ã€æœ€ä½æ¸©)

### æŒ‘æˆ˜2: æˆ‘çš„å­¦ä¹ æ—¶é—´ç»Ÿè®¡

**ä»»åŠ¡**: è®°å½•è‡ªå·±ä¸€å‘¨æ¯å¤©çš„å­¦ä¹ æ—¶é—´,åˆ¶ä½œ:
1. æŸ±çŠ¶å›¾:æ˜¾ç¤ºæ¯å¤©çš„å­¦ä¹ æ—¶é•¿
2. é¥¼å›¾:æ˜¾ç¤ºå­¦ä¹ æ—¶é—´çš„åˆ†é…(å¦‚:å‘¨ä¸€2å°æ—¶,å‘¨äºŒ3å°æ—¶...)

**è¦æ±‚**:
- æ•°æ®çœŸå®å¯é 
- åˆ†æå“ªå¤©å­¦ä¹ æ—¶é—´æœ€é•¿/æœ€çŸ­
- æ‰¾å‡ºå­¦ä¹ è§„å¾‹å¹¶ç»™å‡ºå»ºè®®

### æŒ‘æˆ˜3: æ¸¸æˆæ•°æ®åˆ†æ

**ä»»åŠ¡**: å¦‚æœä½ æœ‰å–œæ¬¢çš„æ¸¸æˆ,è®°å½•æ¸¸æˆæ•°æ®,åˆ¶ä½œ:
1. æŸ±çŠ¶å›¾:ä½ å’Œæœ‹å‹çš„ç­‰çº§å¯¹æ¯”
2. æŠ˜çº¿å›¾:æœ€è¿‘10æ¬¡çš„èƒœç‡å˜åŒ–
3. é¥¼å›¾:ä½¿ç”¨è‹±é›„/æ­¦å™¨çš„é¢‘ç‡

**è¦æ±‚**:
- è‡³å°‘åŒ…å«3ç§å›¾è¡¨
- ç”¨Pageç»„åˆæ‰€æœ‰å›¾è¡¨
- å†™å‡ºåˆ†æç»“è®º(å¦‚:æˆ‘æœ€æ“…é•¿å“ªä¸ªè‹±é›„)

### æŒ‘æˆ˜4: ç­çº§è°ƒæŸ¥æŠ¥å‘Š

**ä»»åŠ¡**: è®¾è®¡ä¸€ä¸ªç­çº§è°ƒæŸ¥(å¦‚:æœ€å–œæ¬¢çš„ç§‘ç›®ã€æœ€å–œæ¬¢çš„è¿åŠ¨ã€æ¯å¤©çš„å­¦ä¹ æ—¶é—´...),æ”¶é›†æ•°æ®ååˆ¶ä½œå®Œæ•´çš„åˆ†ææŠ¥å‘Šã€‚

**è¦æ±‚**:
- è°ƒæŸ¥è‡³å°‘10ååŒå­¦
- ä½¿ç”¨æŸ±çŠ¶å›¾ã€æŠ˜çº¿å›¾ã€é¥¼å›¾
- æŠ¥å‘ŠåŒ…å«:
  - è°ƒæŸ¥ä¸»é¢˜
  - æ•°æ®æ¥æº
  - å›¾è¡¨åˆ†æ
  - ä½ çš„å»ºè®®

### æŒ‘æˆ˜5: åˆ›æ„æ•°æ®å¯è§†åŒ–

**ä»»åŠ¡**: é€‰æ‹©ä¸€ä¸ªä½ æ„Ÿå…´è¶£çš„ä¸»é¢˜(å¦‚:æˆ‘çš„é˜…è¯»è®°å½•ã€é›¶èŠ±é’±è¿½è¸ªã€è¿åŠ¨æ•°æ®åˆ†æ...),åˆ¶ä½œä¸€ä¸ªåˆ›æ„æ•°æ®å¯è§†åŒ–é¡¹ç›®ã€‚

**è¦æ±‚**:
- æ•°æ®çœŸå®ä¸”æœ‰è¿ç»­æ€§(è‡³å°‘è®°å½•ä¸€å‘¨)
- è‡³å°‘3ä¸ªå›¾è¡¨
- å°è¯•ä½¿ç”¨ä¸»é¢˜ã€è‡ªå®šä¹‰é¢œè‰²ç­‰é«˜çº§åŠŸèƒ½
- å‘åŒå­¦å±•ç¤ºä½ çš„æŠ¥å‘Š,å¹¶æ”¶é›†åé¦ˆ

---

## 15.11 ä¸‹ä¸€æ­¥é¢„å‘Š

æ­å–œä½ å®Œæˆäº†ç¬¬15ç« çš„å­¦ä¹ !ä½ å·²ç»æŒæ¡äº†:
- âœ… æ•°æ®å¯è§†åŒ–çš„åŸºæœ¬æ¦‚å¿µ
- âœ… æŸ±çŠ¶å›¾ã€æŠ˜çº¿å›¾ã€é¥¼å›¾çš„åˆ¶ä½œ
- âœ… pyechartsåº“çš„ä½¿ç”¨æ–¹æ³•
- âœ… å®Œæ•´çš„æ•°æ®åˆ†ææŠ¥å‘Šåˆ¶ä½œ

åœ¨**ç¬¬16ç« :å›¾å½¢ç¨‹åº**ä¸­,ä½ å°†å­¦ä¹ :
- ä½¿ç”¨**tkinter**åº“åˆ›å»ºå›¾å½¢ç•Œé¢
- æŒ‰é’®ã€æ–‡æœ¬æ¡†ã€æ ‡ç­¾ç­‰æ§ä»¶
- åˆ¶ä½œå¸¦ç•Œé¢çš„äº¤äº’ç¨‹åº

æƒ³è±¡ä¸€ä¸‹,ä¸å†æ˜¯åœ¨é»‘è‰²çš„å‘½ä»¤è¡Œçª—å£è¾“å…¥å‘½ä»¤,è€Œæ˜¯æœ‰æ¼‚äº®çš„çª—å£ã€æŒ‰é’®ã€è¾“å…¥æ¡†...è¿™å°±æ˜¯å›¾å½¢ç•Œé¢çš„é­…åŠ›!æˆ‘ä»¬ä¸‹ä¸€ç« è§!

---

## é™„å½•:pyechartsé€ŸæŸ¥è¡¨

### å¸¸ç”¨å›¾è¡¨ç±»

```python
from pyecharts.charts import Bar, Line, Pie

# æŸ±çŠ¶å›¾
bar = Bar()
bar.add_xaxis(x_data)
bar.add_yaxis(series_name, y_data)
bar.render("bar.html")

# æŠ˜çº¿å›¾
line = Line()
line.add_xaxis(x_data)
line.add_yaxis(series_name, y_data)
line.render("line.html")

# é¥¼å›¾
pie = Pie()
pie.add(series_name, data)
pie.render("pie.html")
```

### å¸¸ç”¨é…ç½®é€‰é¡¹

```python
from pyecharts import options as opts

# æ ‡é¢˜
title_opts={"text": "å›¾è¡¨æ ‡é¢˜"}

# åæ ‡è½´
xaxis_opts=opts.AxisOpts(name="xè½´åç§°")
yaxis_opts=opts.AxisOpts(name="yè½´åç§°")

# æ ‡ç­¾
label_opts=opts.LabelOpts(is_show=True)  # æ˜¾ç¤ºæ•°æ®æ ‡ç­¾

# æç¤ºæ¡†
tooltip_opts=opts.TooltipOpts(trigger="axis")

# å·¥å…·æ 
toolbox_opts=opts.ToolboxOpts(is_show=True)

# æ•°æ®ç¼©æ”¾
datazoom_opts=opts.DataZoomOpts(is_show=True)
```

### å¸¸ç”¨ä¸»é¢˜

```python
from pyecharts.globals import ThemeType

bar = Bar(init_opts=opts.InitOpts(theme=ThemeType.LIGHT))
bar = Bar(init_opts=opts.InitOpts(theme=ThemeType.DARK))
bar = Bar(init_opts=opts.InitOpts(theme=ThemeType.ROMA))
bar = Bar(init_opts=opts.InitOpts(theme=ThemeType.SHINE))
```

### Pageç»„åˆå›¾è¡¨

```python
from pyecharts.charts import Page

page = Page()
page.add(chart1, chart2, chart3)
page.render("combined.html")
```

---

**ç¥è´ºä½ å®Œæˆç¬¬15ç« çš„å­¦ä¹ !** ğŸ‰

ç°åœ¨,ä½ å·²ç»èƒ½ç”¨Pythonåˆ¶ä½œä¸“ä¸šçš„æ•°æ®æŠ¥è¡¨äº†!è¯•è¯•ç”¨ä½ å­¦åˆ°çš„æŠ€èƒ½,è®°å½•å’Œåˆ†æç”Ÿæ´»ä¸­çš„æ•°æ®å§!
